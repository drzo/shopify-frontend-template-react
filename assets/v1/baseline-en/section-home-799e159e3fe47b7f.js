(self.webpackChunkweb=self.webpackChunkweb||[]).push([["section-home"],{"./node_modules/@shopify/polaris/build/esnext/components/SkeletonBodyText/SkeletonBodyText.esnext":(e,n,a)=>{"use strict";a.d(n,{j:()=>r});var i=a("./node_modules/react/index.js"),t={SkeletonBodyTextContainer:"Polaris-SkeletonBodyText__SkeletonBodyTextContainer_alhvc",SkeletonBodyText:"Polaris-SkeletonBodyText_4hwgi"};function r({lines:e=3}){const n=[];for(let a=0;a<e;a++)n.push(i.createElement("div",{className:t.SkeletonBodyText,key:a}));return i.createElement("div",{className:t.SkeletonBodyTextContainer},n)}},"./app/org-admin/components/PlusMigrationBanner/PlusMigrationBanner.tsx":(e,n,a)=>{"use strict";a.d(n,{D:()=>v,z:()=>k});const i=JSON.parse('{"PlusMigrationBanner":{"billing":{"title":"Changes coming to Plus Billing","body":"You will soon be able to centrally manage bills across all stores in your organization. We will be communicating with you closer to when these changes will take effect. "},"overview":{"title":"Changes coming to Overview","body":"We are making improvements to the way you view and track performance across your organization. We will be communicating with you closer to when these changes will take effect. "},"users":{"title":"Changes coming to User Management","body":"We are making improvements to the way you manage users across your organization. We will be communicating with you closer to when these changes will take effect."},"stores":{"title":"Changes coming to Store Management","body":"We are making improvements to the way you manage stores across your organization. We will be communicating with you closer to when these changes will take effect."},"learnMore":"Learn more","dismiss":"Dismiss"}}'),t={[Symbol.for("i18n-id")]:"PlusMigrationBanner_edfflm",en:i};var r=a("./node_modules/@shopify/polaris/build/esnext/components/Box/Box.esnext"),s=a("./node_modules/@shopify/polaris/build/esnext/components/CalloutCard/CalloutCard.esnext"),d=a("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext");const l=a.p+"687dc4e45581255a.svg",o=a.p+"426d529e14eb195a.svg",m=a.p+"122a0a394e584dcc.svg",u=a.p+"89ca5e20bb87190c.svg";var c=a("./node_modules/react/jsx-runtime.js");let v=function(e){return e.Billing="billing",e.Users="users",e.Stores="stores",e.Overview="overview",e}({});const p=e=>{switch(e){case v.Billing:return l;case v.Users:return o;case v.Stores:return m;case v.Overview:return u}};function k({migrationSection:e,isVisible:n,onDismiss:a}){const[i]=(0,d.Q)({id:"PlusMigrationBanner_1crc94g",fallback:Object.values(t)[0],translations:e=>Promise.resolve(t[e])});return n?(0,c.jsx)(r.x,{paddingBlockEnd:"6",children:(0,c.jsx)(s.r,{title:i.translate(`PlusMigrationBanner.${e}.title`),onDismiss:a,illustration:p(e),primaryAction:{content:"Learn more",url:"http://www.shopify.com/enterprise/organization-settings",target:"_blank"},children:i.translate(`PlusMigrationBanner.${e}.body`)})}):null}},"./app/org-admin/foundation/FeatureFlags/hook.ts":(e,n,a)=>{"use strict";a.d(n,{S:()=>r,o:()=>s});var i=a("./node_modules/react/index.js"),t=a("./app/org-admin/foundation/FeatureFlags/context.ts");function r(e){return Boolean((0,i.useContext)(t._).featureFlags[e])}function s(e){const n=(0,i.useContext)(t._).featureFlags;return(0,i.useMemo)((()=>e.filter((e=>n[e]))),[n,e])}},"./app/org-admin/sections/Home/Overview.tsx":(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>Mi});const i=JSON.parse('{"Home":{"PageTitle":"Overview"}}'),t={[Symbol.for("i18n-id")]:"Home_1rdwt01",en:i};var r=a("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),s=a("./node_modules/@shopify/polaris/build/esnext/components/Loading/Loading.esnext"),d=a("./packages/@web-utilities/local-storage/hooks.ts"),l=a("./app/org-admin/foundation/FrameProvider/FrameProvider.tsx"),o=a("./app/org-admin/components/Page/Page.tsx"),m=a("./app/org-admin/components/PlusMigrationBanner/PlusMigrationBanner.tsx");const u=JSON.parse('{"OverviewFooter":{"product":"Overview"}}'),c={[Symbol.for("i18n-id")]:"Footer_r69g5k",en:u};var v=a("./app/org-admin/foundation/Feedback/LearnMore.tsx"),p=a("./node_modules/react/jsx-runtime.js");function k(){const[e]=(0,r.Q)({id:"Footer_gurd1",fallback:Object.values(c)[0],translations:e=>Promise.resolve(c[e])});return(0,p.jsx)(v.Z,{learnMoreLinkUrl:`https://help.shopify.com/${e.locale}/manual/shopify-plus/overview`,product:e.translate("OverviewFooter.product")})}const g=JSON.parse('{"Home":{"PageTitle":"Overview"}}'),y={[Symbol.for("i18n-id")]:"OverviewPage_1l0ud4t",en:g};var f=a("./node_modules/react/index.js"),h=a("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext"),N=a("./app/org-admin/foundation/FeatureFlags/hook.ts"),b=a("./app/org-admin/foundation/Tracking/hooks/useTracking.ts");const S=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OrganizationOverview"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesLastUpdatedAt"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Organization"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Organization"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"defaultCurrency"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"currencies"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"previousSalesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1032,"source":{"body":"query OrganizationOverview($presentmentCurrency:CurrencyCode!,$utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$preset:TimeFramePreset,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null,$isRange:Boolean = false){salesLastUpdatedAt organization{...Organization __typename}}fragment Organization on Organization{defaultCurrency{currencyCode currencyName __typename}currencies{currencyCode currencyName __typename}id name shopsCount salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset})@skip(if:$isRange){ordersTotal ordersTrend salesTotal{currencyCode value __typename}salesTrend __typename}salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency)@include(if:$isRange){ordersTotal ordersTrend salesTotal{currencyCode value __typename}previousSalesTotal{currencyCode value __typename}salesTrend __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"2fadc97ffb95515516838cd03e85bfa99f5861039dd6ccc942681e32914ae6db"}');var F=a("./app/org-admin/sections/Home/components/OverviewProvider/OverviewProvider.tsx");function D(){return(0,f.useContext)(F.nR)}var x=a("./app/org-admin/foundation/PlusExperience/hook.ts"),C=a("./app/org-admin/foundation/Monorail/hook.ts");function _(){const{userUuid:e,orgId:n,apps:a,employeeUuid:i,testOrganization:t}=(0,x.F)(),{produce:r}=(0,C.K)(),s={organizationId:n,identityUuid:e,orgPermittedApps:Object.keys(a).sort().join(","),isEmployee:""!==i,isTestOrg:t};return{orgCardClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_click/3.0"}),orgCardCurrencyChangeEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_currency_change/4.0"}),orgCardHoverEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_hover/3.0"}),paginationClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_pagination_click/2.0"}),searchFocusEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_search_focus/2.0"}),storeCardClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_store_card_click/3.0"}),storeCardHoverEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_store_card_hover/3.0"}),timeFrameClickEvent:e=>{r({payload:{...s,...e},schemaId:"plus_overview_time_frame_click/2.1"})},overviewPageViewEvent:e=>{r({payload:{...s,...e},schemaId:"plus_overview_page_view/1.0"})}}}var T=a("./node_modules/@shopify/condense-number/dist/index.m.js"),j=a("./app/types/graphql/plus-home-types/TimeFramePreset.ts"),O=a("./app/types/graphql/plus-home-types/SpanUnit.ts"),w=a("./app/org-admin/utilities/hashCode.ts"),R=a("./app/org-admin/sections/Home/types/index.ts");const V=(e,n=0)=>{const a=new Date(e.getTime());return a.setUTCMinutes(a.getUTCMinutes()+n+(new Date).getTimezoneOffset()),a},$=({lowerBound:e,upperBound:n,yearDifferential:a})=>{const i=e.toLocaleString("default",{month:"short"}),t=n.toLocaleString("default",{month:"short"});let r="",s="";if(a){const a=e.getFullYear(),i=n.getFullYear();a===i||(r=`, ${a}`),s=`, ${i}`}return i===t&&e.getFullYear()===n.getFullYear()&&e.getDate()===n.getDate()?`${t} ${n.getDate()}${s}`:`${i} ${e.getDate()}${r}-${t} ${n.getDate()}${s}`},M=({pastDateLowerBound:e,pastDateUpperBound:n,currentDateLowerBound:a,currentDateUpperBound:i})=>{const t=e.getFullYear()!==a.getFullYear()||n.getFullYear()!==i.getFullYear();return{pastRange:$({lowerBound:e,upperBound:n,yearDifferential:t}),todayRange:$({lowerBound:a,upperBound:i,yearDifferential:t})}},P=({nodeEnv:e,orgId:n,userUuid:a})=>"development"===e?`overview-default-currency-${n}-${a}`:`${(0,w.Z)(`overview-default-currency-${n}`)}-${(0,w.Z)(`overview-default-currency-${a}`)}`,B=(e,n,a)=>{const i=(0,T.l)(n,e.locale,{maxPrecision:1,roundingRule:"auto"}),t=A(e,a);return""!==t?`${t}${i} ${a}`:`${a} ${i}`},A=(e,n)=>{var a;if(!n)return"";const i=e.getCurrencySymbol(n),[t]=null!==(a=i.symbol.match(/(^A\$$)|[$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/))&&void 0!==a?a:[""];return t},L=(e,n)=>Math.abs(Math.floor((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)),E=(e,n)=>{const a=new Date(e.getTime());return a.setDate(a.getDate()-n),a},z=e=>e instanceof Date&&!isNaN(e.getTime()),U=(e,n)=>{const a=new Date(e.getTime());return n.count?(n.unit===O.E.Days?a.setDate(a.getDate()-n.count):n.unit===O.E.Hours&&a.setHours(a.getHours()-n.count),a):a},q=e=>String(e).padStart(2,"0"),I=e=>`${e.getFullYear()}-${q(e.getMonth()+1)}-${q(e.getDate())}`,H=e=>{const n={from:"",to:""},a={from:"",to:""};return e.type!==R.d.Custom&&e.type!==R.d.Fixed||(n.from=I(e.from),n.to=I(e.to),a.from=I(e.compareFrom),a.to=I(e.compareTo)),{requestedDateRange:n,comparisonDateRange:a}},Q=(e,n)=>n.filter((e=>e.requestedFixedStart)).find((n=>{var a,i,t,r,s,d,l,o;return(null===(a=n.requestedFixedStart)||void 0===a?void 0:a.getTime())===(null===(i=e.from)||void 0===i?void 0:i.getTime())&&(null===(t=n.requestedFixedEnd)||void 0===t?void 0:t.getTime())===(null===(r=e.to)||void 0===r?void 0:r.getTime())&&(null===(s=n.comparedFixedStart)||void 0===s?void 0:s.getTime())===(null===(d=e.compareFrom)||void 0===d?void 0:d.getTime())&&(null===(l=n.comparedFixedEnd)||void 0===l?void 0:l.getTime())===(null===(o=e.compareTo)||void 0===o?void 0:o.getTime())})),Z=({timeFrame:e,timeFrameOptions:n,preset:a})=>{if(a)return a;if(e.type===R.d.Span)return`${e.unit} - ${e.count}`;if(e.type===R.d.Custom){const n=L(e.compareFrom,e.compareTo);return 0===n?`${O.E.Hours} - 24 (Flexible)`:`${O.E.Days} - ${n+1} (Flexible)`}var i;return e.type===R.d.Fixed&&(null===(i=Q(e,n))||void 0===i?void 0:i.label)||""},Y=[{label:"Today",range:{count:24,unit:O.E.Hours},preset:j.d.Today,type:R.d.Preset,translationKey:"TimeFrameOptions.today"},{label:"24 hours",range:{count:24,unit:O.E.Hours},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.24hours"},{label:"7 days",range:{count:7,unit:O.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.7days"},{label:"28 days",range:{count:28,unit:O.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.28days"},{label:"90 days",range:{count:90,unit:O.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.90days"},{label:"Custom",range:{count:3,unit:O.E.Days},preset:void 0,type:R.d.Custom,translationKey:"TimeFrameOptions.custom"}],G=12e4;var J=a("./node_modules/@shopify/polaris/build/esnext/components/Pagination/Pagination.esnext"),W=a("./node_modules/use-debounce/esm/useDebounce.js"),K=a("./node_modules/react-router-dom-v6/node_modules/react-router/dist/index.js"),X=a("./node_modules/qs/lib/index.js"),ee=a.n(X);function ne(e,n=!0){const a="?"===e.charAt(0)?e.substr(1):e,i=ee().parse(a);return n&&Object.keys(i).forEach((e=>{""===i[e]&&delete i[e]})),i}function ae(e){const n=e&&Object.keys(e).reduce(((n,a)=>{const i=e[a];return null==i?n:{...n,[a]:i}}),{});return ee().stringify(n)}function ie(e,n){return function(e,n,a){const i=(0,K.s0)(),t=null!=a?a:i,r=(0,f.useCallback)((a=>{if(e){const i=e=>{const n={...ne(location.search),before:null,after:null,...e};t({pathname:location.pathname,search:ae(n)})},r=e.edges;"previous"===a?i({before:r[0].cursor}):"next"===a&&i({after:r[r.length-1].cursor}),null!=n&&n.current&&null!==n.current&&n.current.scrollIntoView()}}),[n,e,t]),s=(0,f.useCallback)((()=>r("previous")),[r]),d=(0,f.useCallback)((()=>r("next")),[r]);if(!e||!e.edges)return{hasPrevious:void 0,onPrevious:void 0,hasNext:void 0,onNext:void 0};const{hasNextPage:l,hasPreviousPage:o}=null==e?void 0:e.pageInfo;return 0===e.edges.length?{hasPrevious:l,onPrevious:void 0,hasNext:o,onNext:void 0}:{hasPrevious:o,onPrevious:s,hasNext:l,onNext:d}}(e,n,(0,K.s0)())}const te=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopList"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"before"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"last"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"query"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsCount"},"arguments":[],"directives":[]},{"kind":"FragmentSpread","name":{"kind":"Name","value":"ShopList"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ShopList"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shops"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"before"},"value":{"kind":"Variable","name":{"kind":"Name","value":"before"}}},{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"last"},"value":{"kind":"Variable","name":{"kind":"Name","value":"last"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"query"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"endCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasPreviousPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"startCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"cursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currency"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rankByGmv"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneAbbreviation"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1443,"source":{"body":"query ShopList($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$after:String,$before:String,$first:Int,$last:Int,$query:String,$preset:TimeFramePreset,$isRangeQuery:Boolean!,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null){organization{id shopsCount...ShopList __typename}}fragment ShopList on Organization{shops(after:$after,before:$before,first:$first,last:$last,query:$query){pageInfo{endCursor hasNextPage hasPreviousPage startCursor __typename}edges{cursor node{id name currency shopifyId shopifyDomain rankByGmv timezoneOffsetMinutes timezoneAbbreviation salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset})@skip(if:$isRangeQuery){averageOrderValue{...MoneyBag __typename}averageOrderValueTrend ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend __typename}salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency)@include(if:$isRangeQuery){salesTotal{...MoneyBag __typename}salesTrend ordersTotal ordersTrend averageOrderValue{...MoneyBag __typename}averageOrderValueTrend __typename}__typename}__typename}__typename}__typename}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"370a9fb79b96b869af44892f1d89fe15e68baadb0552d6accfadf5168442f5f6"}'),re=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopSessionsSummary"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"query"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"Argument","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"FragmentSpread","name":{"kind":"Name","value":"ShopSessions"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ShopSessions"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shops"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"query"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"endCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"sessionsSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sessionsTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"sessionsSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sessionsTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1059,"source":{"body":"query ShopSessionsSummary($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$after:String,$first:Int,$query:String,$preset:TimeFramePreset,$isRangeQuery:Boolean!,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null){organization(utcOffset:$utcOffset spanCount:$spanCount spanUnit:$spanUnit presentmentCurrency:$presentmentCurrency preset:$preset){id...ShopSessions __typename}}fragment ShopSessions on Organization{id shops(first:$first,after:$after,query:$query){pageInfo{hasNextPage endCursor __typename}edges{node{id sessionsSummary(sessionsSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,preset:$preset})@skip(if:$isRangeQuery){sessionsTotal sessionsTrend conversionRateTotal conversionRateTrend __typename}sessionsSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange)@include(if:$isRangeQuery){sessionsTotal sessionsTrend conversionRateTotal conversionRateTrend __typename}__typename}__typename}__typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"0d09148feb390b233415eb832d693f05983cb40aca93f15916a86d5531c68cbd"}');let se=function(e){return e.Query="query",e.Before="before",e.After="after",e}({});const de=(e,n)=>"UPDATE"===n.type?{...e,...n.payload}:e,le={[se.Query]:"",[se.Before]:"",[se.After]:""};function oe(){const e=(0,K.TH)(),n=(0,K.s0)(),[a,i]=(0,f.useReducer)(de,(t=le,r=e.search,[...new URLSearchParams(r).entries()].reduce(((e,n)=>{const[a,i]=n;return{...e,[a]:i}}),t)));var t,r;return[a,a=>{i({type:"UPDATE",payload:a});const t=new URLSearchParams(e.search);Object.entries(a).forEach((([e,n])=>{"string"==typeof n&&(""===n?t.delete(e):t.set(e,n))})),n({search:t.toString()})}]}var me=function(e){return e.Before="before",e.After="after",e}(me||{});const ue=JSON.parse('{"Search":{"searchPlaceholder":"Search for a store"}}'),ce={[Symbol.for("i18n-id")]:"Search_lexnfn",en:ue};var ve=a("./node_modules/@shopify/polaris/build/esnext/components/TextField/TextField.esnext"),pe=a("./node_modules/@shopify/polaris/build/esnext/components/Icon/Icon.esnext"),ke=a("./node_modules/@shopify/polaris-icons/dist/icons/SearchMajor.svg.mjs");const ge="YhY1f",ye="KTQAC";function fe({queryValue:e,onQueryValueChange:n,onSearchFocus:a}){const[i]=(0,r.Q)({id:"Search_1p9t15x",fallback:Object.values(ce)[0],translations:e=>Promise.resolve(ce[e])});return(0,p.jsx)("div",{className:ye,children:(0,p.jsx)(ve.n,{autoComplete:"off",label:"",prefix:(0,p.jsx)("div",{className:ge,children:(0,p.jsx)(pe.J,{source:ke.S})}),placeholder:i.translate("Search.searchPlaceholder"),value:e,onChange:n,clearButton:!0,onClearButtonClick:()=>{n("")},onFocus:a})})}const he=JSON.parse('{"StoreOverview":{"DashboardLink":"View dashboard","DashboardLinkAccessibilityLabel":"View the dashboard for {shopName}","TotalSales":"Total sales","TotalSalesAccessibilityLabel":"View the total sales report for {shopName}","TotalOrders":"Total orders","TotalOrdersAccessibilityLabel":"View the total orders report for {shopName}","ConversionRate":"Conversion rate","ConversionRateAccessibilityLabel":"View the conversion rate report for {shopName}","Sessions":"Sessions","SessionsAccessibilityLabel":"View the sessions rate report for {shopName}","AverageOrderValue":"Average order value","AverageOrderValueAccessibilityLabel":"View the average order value report for {shopName}"}}'),Ne={[Symbol.for("i18n-id")]:"StoreOverview_1bxtr3l",en:he};var be=a("./node_modules/@shopify/polaris/build/esnext/components/Spinner/Spinner.esnext"),Se=a("./node_modules/@shopify/polaris/build/esnext/components/Link/Link.esnext"),Fe=a("./node_modules/@shopify/polaris/build/esnext/components/LegacyCard/LegacyCard.esnext"),De=a("./node_modules/@shopify/polaris/build/esnext/components/Text/Text.esnext");const xe=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopGraphDataPoints"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ShopID"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"Argument","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsRequested"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsPrevious"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":461,"source":{"body":"query ShopGraphDataPoints($id:ShopID!,$utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$preset:TimeFramePreset){organization(utcOffset:$utcOffset spanCount:$spanCount spanUnit:$spanUnit preset:$preset){id shop(id:$id){id graphDataPointsRequested{salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}graphDataPointsPrevious{salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}__typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"61e346318b92df6ecce8c5ae18da7ac88b03543328881b96df3a20fcec726be3"}'),Ce=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopDataPointsForRanges"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ShopID"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"ranges"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"ranges"},"value":{"kind":"Variable","name":{"kind":"Name","value":"ranges"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":299,"source":{"body":"query ShopDataPointsForRanges($id:ShopID!,$spanUnit:SpanUnit!,$ranges:[DateRangeInput!]!){organization{id shop(id:$id){id shopifyId graphDataPointsForRanges(ranges:$ranges,spanUnit:$spanUnit){salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}__typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"13a2f8fdd3a5ff787cf100f513b9f317e826a445ead29113eb4c9a4b5f61a49f"}');function _e(e){try{return new URL(e).hostname}catch(n){return e}}var Te=a("./app/org-admin/components/WithOrgData/WithOrgData.tsx");const je=JSON.parse('{"Trend":{"increaseAccessibilityHint":"Increase of {change}","decreaseAccessibilityHint":"Decrease of {change}","noChangeAccessibilityHint":"No change"}}'),Oe={[Symbol.for("i18n-id")]:"Trend_b7g3es",en:je};var we=function(e){return f.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),f.createElement("path",{fillRule:"evenodd",d:"M10 16.5a.75.75 0 0 1-.75-.75v-9.69l-2.72 2.72a.75.75 0 1 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06l-2.72-2.72v9.69a.75.75 0 0 1-.75.75Z"}))};we.displayName="ArrowUpMinor";var Re=function(e){return f.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),f.createElement("path",{fillRule:"evenodd",d:"M10 3.5a.75.75 0 0 1 .75.75v9.69l2.72-2.72a.75.75 0 0 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l2.72 2.72v-9.69a.75.75 0 0 1 .75-.75Z"}))};Re.displayName="ArrowDownMinor";var Ve=a("./node_modules/classnames/index.js"),$e=a.n(Ve);let Me=function(e){return e.Neutral="neutral",e.Positive="positive",e.Negative="negative",e}({});const Pe="dl1lo",Be="lRpRQ",Ae="NCGib",Le="PlXaL",Ee="o9Zc6",ze="gLZRD",Ue=({trend:e,small:n,percentColourOnly:a=!1})=>{const[i]=(0,r.Q)({id:"Trend_10vwnyd",fallback:Object.values(Oe)[0],translations:e=>Promise.resolve(Oe[e])});if(null==e)return null;const t=i.formatPercentage(e),s=i.formatPercentage(Math.abs(e)),d=(e=>0===e?Me.Neutral:e>0?Me.Positive:Me.Negative)(parseFloat(t)),l={[Be]:d===Me.Positive,[Ae]:d===Me.Negative,[Le]:d!==Me.Positive&&d!==Me.Negative},o=$e()(Pe,{...a?{}:l}),m=$e()({[ze]:n,[Ee]:!n,...a?l:{}});let u,c;return d===Me.Positive?(u=(0,p.jsx)(we,{className:m}),c=i.translate("Trend.increaseAccessibilityHint",{change:s})):d===Me.Negative?(u=(0,p.jsx)(Re,{className:m}),c=i.translate("Trend.decreaseAccessibilityHint",{change:s})):d===Me.Neutral&&(u=null,c=i.translate("Trend.noChangeAccessibilityHint")),(0,p.jsxs)("div",{className:o,children:[u,(0,p.jsx)(De.x,{variant:"bodySm",as:"span",visuallyHidden:!0,children:c}),(0,p.jsx)("span",{"aria-hidden":"true",children:s})]})},qe="mORdM",Ie="eHuOx",He="vJkrM",Qe="j1McE",Ze="L4psg",Ye="x_5NC",Ge="BC_n0",Je="padV0",We="gvhK6",Ke=({loading:e=!1,title:n,totalData:{total:a,trend:i},spaceBetween:t=!1,small:r=!1,noFocus:s=!1,id:d})=>{const l=(0,f.useId)(),o=null!=d?d:l;if(e)return(0,p.jsx)("div",{className:qe,children:(0,p.jsx)(be.$,{})});const m=$e()(He,t&&Ge,r&&Qe),u=$e()(Je,s&&We),c=$e()(r?Ye:Ze);return(0,p.jsxs)("div",{id:o,className:Ie,children:[(0,p.jsx)("span",{className:u,children:n}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("div",{className:c,children:a}),(0,p.jsx)(Ue,{trend:i,small:r})]})]})},Xe=({current:e,previous:n,spanUnit:a,spanCount:i})=>{const t=(null!=n?n:[]).reverse().map((e=>{const n=V(new Date(((e,n,a)=>{const i=new Date(e);switch(n){case O.E.Hours:return i.setUTCHours(i.getUTCHours()+a);case O.E.Days:return i.setUTCDate(i.getUTCDate()+a);case O.E.Months:return i.setUTCMonth(i.getUTCMonth()+28*a);default:throw new Error(`Unknown SpanUnit, ${n}`)}})(e.timestamp,a,i)),e.timezoneOffsetMinutes);return[n.getTime(),parseFloat(e.salesTotal.value)]}));return{currentSeriesData:(null!=e?e:[]).reverse().map((e=>[V(new Date(e.timestamp),e.timezoneOffsetMinutes).getTime(),parseFloat(e.salesTotal.value)])),previousSeriesData:t}},en=JSON.parse('{"Tooltip":{"convertedTotal":"Converted total: {convertedTotal}","conversionRate":"Rate"}}'),nn={[Symbol.for("i18n-id")]:"CurrencyTooltip_eq2z9b",en};var an=a("./node_modules/@shopify/polaris/build/esnext/components/Popover/Popover.esnext");const tn="TzGV4",rn=({children:e,tooltipText:n})=>{const[a,i]=(0,f.useState)(!1),t=()=>{a||i(!0)},r=()=>{a&&i(!1)},s=(0,p.jsx)("span",{className:tn,onMouseOver:t,onMouseLeave:r,onFocus:t,onBlur:r,children:n});return(0,p.jsx)(an.J,{preferredAlignment:"left",preferredPosition:"above",active:a,activator:s,onClose:r,children:(0,p.jsx)("span",{onMouseOver:t,onMouseLeave:r,onFocus:t,onBlur:r,children:e})})},sn="N6H9B";function dn({presentment:e,shop:n,conversionRate:a,onHover:i}){const[t]=(0,r.Q)({id:"CurrencyTooltip_lzq4p1",fallback:Object.values(nn)[0],translations:e=>Promise.resolve(nn[e])}),s=({value:e,currencyCode:n})=>{if(!e||!n)return"--";const a=Number.parseInt(e,10),i=0===a?0:a;return t.formatCurrency(i,{currency:n,minimumFractionDigits:0,form:"explicit"})},d=t.formatNumber(1*parseFloat(a),{minimumFractionDigits:1,precision:5}),l=`${t.translate("Tooltip.conversionRate")}: 1 ${n.currencyCode} = ${d} ${e.currencyCode}`;return"1.0"===a?(0,p.jsx)(p.Fragment,{children:s(n)}):(0,p.jsx)("div",{onMouseEnter:i,children:(0,p.jsx)(rn,{tooltipText:s(n),children:(0,p.jsxs)("div",{className:sn,children:[(0,p.jsx)("div",{children:t.translate("Tooltip.convertedTotal",{convertedTotal:s(e)})}),(0,p.jsx)("div",{className:"ConversionRate",children:l})]})})})}var ln=a("./node_modules/highcharts/highcharts.js"),on=a.n(ln),mn=a("./node_modules/highcharts/modules/accessibility.js"),un=a.n(mn),cn=a("./node_modules/highcharts-react-official/dist/highcharts-react.min.js"),vn=a.n(cn),pn=a("./app/utilities/highcharts.ts");const kn={color:"#637381"};var gn=a("./node_modules/@shopify/react-i18n/build/esnext/constants/index.esnext");function yn(e=O.E.Hours){switch(e){case O.E.Hours:return{hour12:!0,hour:"2-digit"};case O.E.Days:return{month:"short",day:"numeric"};case O.E.Months:return{month:"short"};default:throw new Error(`Unexpected over period: ${e}`)}}function fn(e){const n=Math.abs(Math.trunc(e)),a=10**Math.floor(Math.log10(n));let i=a;for(;i<n;)i+=a;return e<0?-1*i:i}const hn=(e,n)=>function(){const a=bn(e,this.value,yn(n));if(n===O.E.Hours){return 0===new Date(this.value).getHours()?bn(e,this.value,yn(O.E.Days)):a.replace(/ /g,"").toLowerCase()}return a};function Nn(e,n){return function(){return B(e,Number(this.value),n)}}function bn(e,n,a){const i=new Date(n);return e.formatDate(i,a)}const Sn=864e5,Fn=36e5;function Dn(e,{previousSeriesName:n,currencyCode:a,interval:i,count:t}){return function(r){const s=function(e,{points:n,interval:a,count:i,previousSeriesName:t,currencyCode:r}){const s=i/(a===O.E.Hours?24:1),d=n.map((n=>{const a=n.series.name===t?n.x-Sn*s:n.x;return`<span style="color:${n.color}">●</span> ${bn(e,a,{style:gn.Dn.Short})}: <b>${function(e,n,a){return e.formatCurrency(n,{currency:a,minimumFractionDigits:0,form:"explicit"})}(e,n.y,r)}</b><br/>`}));return d.join("")}(e,{points:this.points,interval:i,count:t,previousSeriesName:n,currencyCode:a}),d=function(e,n,a){if(a===O.E.Hours)return`<div>${bn(e,n[0].x,{style:gn.Dn.Time})} - ${bn(e,n[0].x+Fn,{style:gn.Dn.Time})}</div>`;return O.E.Days,""}(e,this.points,i);return`${d}${s}`}}function xn(){const e=this.getExtremes().dataMin,n=this.getExtremes().dataMax,a=Math.abs(e)<=1?e<0?-1:0:fn(e);const i=Math.abs(n)<=1?function(e){return e>0?1:0}(n):fn(n);return a>0&&i>0?[0,i]:a<0&&i<0?[a,0]:0===a&&0===i?[0]:Math.abs(i)>=0&&Math.abs(i)<1||Math.abs(a)>=0&&Math.abs(a)<1||Number(i)/(i+Math.abs(a))<.3||Number(Math.abs(a))/(i+Math.abs(a))<.3?[a,i]:[a,0,i]}const Cn="weDmS";pn.m&&un()(on());const _n=({currencyCode:e,currentSeries:n,height:a=160,interval:i=O.E.Hours,count:t,loading:s,previousSeries:d})=>{const[l]=(0,r.Q)();if(s)return(0,p.jsx)("div",{className:Cn,style:{height:a},children:(0,p.jsx)(be.$,{})});const o=(({currentSeries:e,previousSeries:n,height:a,tooltipFormatter:i,xAxisLabels:t,yAxisLabels:r,tickPositioner:s})=>({series:[e,n],chart:{height:a,showAxes:!0,spacing:[8,8,8,8],style:{fontFamily:"inherit"}},legend:{enabled:!0,align:"left",itemStyle:{fontWeight:"normal"}},title:{text:void 0},time:{timezoneOffset:Number((new Date).getTimezoneOffset())},plotOptions:{series:{lineWidth:3,marker:{enabled:!1,symbol:"circle",radius:2},states:{hover:{enabled:!0,halo:null,lineWidthPlus:0}},events:{legendItemClick:()=>!1}}},tooltip:{backgroundColor:"#FFF",borderRadius:5,shadow:{color:"black",offsetX:0,offsetY:3,opacity:.02,width:10},padding:10,useHTML:!0,shared:!0,hideDelay:50,formatter:i,xDateFormat:"%l:%M %p - %b %e, %Y",dateTimeLabelFormats:{hour:"hour",day:"day",month:"month",week:"week",year:"year"}},xAxis:{lineColor:"transparent",type:"datetime",tickLength:5,gridLineWidth:1,minorTickLength:2,gridLineDashStyle:"Dash",dateTimeLabelFormats:{hour:"hour",day:"day",month:"month",week:"week",year:"year"},crosshair:{width:5,color:"rgba(204, 204, 204, 0.5)"},labels:{style:kn,formatter:t}},yAxis:{title:{text:void 0},gridLineWidth:0,minorGridLineWidth:0,labels:{style:kn,formatter:r},plotLines:[{value:0,width:1,color:"#ccd6eb"}],tickPositioner:s},credits:{enabled:!1}}))({currentSeries:n,previousSeries:d,height:a,currencyCode:e,tooltipFormatter:Dn(l,{previousSeriesName:null==d?void 0:d.name,currencyCode:e,interval:i,count:t}),xAxisLabels:hn(l,i),yAxisLabels:Nn(l,e),tickPositioner:xn});return(0,p.jsx)(vn(),{highcharts:on(),options:o})},Tn=(0,f.memo)(_n),jn="S3zu6",On="mt9T_",wn="vbvA6",Rn="M0WT4",Vn="BhRy3",$n="L1ufV",Mn="Svgn0",Pn="YhVD6",Bn="MmleH",An="KdMtO",Ln=({storeCount:e,store:n,isMultiStoreOrganization:a,loading:i=!1,isSearchResult:t,sessionsData:s,sessionsDataLoading:d})=>{var l,o,m;const[u]=(0,r.Q)({id:"StoreOverview_1tp29ad",fallback:Object.values(Ne)[0],translations:e=>Promise.resolve(Ne[e])}),c=(0,N.S)("overview_polling"),{overviewState:v}=D(),{maxStoresPerPage:k,storeSortOrder:g,timeFrame:y,preset:b}=v,{storeCardClickEvent:S,storeCardHoverEvent:F}=_(),{scopedAdmin:{orgStores:x}}=(0,Te.a)(),C=x.find((e=>e.shopifyShopId===n.shopifyId)),T=(null==C||null===(l=C.identificationSettings)||void 0===l?void 0:l.internalName)||n.name,O=y.type===R.d.Custom||y.type===R.d.Fixed,w=n.timezoneOffsetMinutes,$=(0,h.Z)(xe,{variables:{preset:b,id:n.id,spanCount:y.count,spanUnit:y.unit,utcOffset:w},fetchPolicy:"no-cache",skip:O,pollInterval:c?G:void 0}),{from:P,to:B,compareFrom:A,compareTo:L}=y,E=[];O&&(E.push({from:I(P),to:I(B)}),E.push({from:I(A),to:I(L)}));const z=(0,h.Z)(Ce,{variables:{id:n.id,spanUnit:y.unit,ranges:E},fetchPolicy:"no-cache",skip:!O,pollInterval:c?G:void 0}),U=($.loading||z.loading)&&!$.data&&!z.data,q=e>k,H=(0,f.useCallback)((a=>F({element:a,shopId:Number(n.shopifyId),prodStoreAccessCount:e,isSearchVisible:q,maxStoresPerPage:k,storeSortOrder:g,isSearchResult:t,storeRankOverall:n.rankByGmv,timeFrame:Z({timeFrame:y,preset:b,timeFrameOptions:Y})})),[n.shopifyId,e,n.rankByGmv,t,g,k,q,b,y]),Q=(0,f.useCallback)((a=>S({element:a,shopId:Number(n.shopifyId),prodStoreAccessCount:e,isSearchVisible:q,maxStoresPerPage:k,storeSortOrder:g,isSearchResult:t,storeRankOverall:n.rankByGmv,timeFrame:Z({timeFrame:y,preset:b,timeFrameOptions:Y})})),[n.shopifyId,e,n.rankByGmv,t,g,k,q,b,y]),{currentSeries:J,previousSeries:W}=(0,f.useMemo)((()=>{var e,a,i,t,r,s,d,l,o,m,u,c;const v=O?null==z||null===(e=z.data)||void 0===e||null===(a=e.organization)||void 0===a||null===(i=a.shop)||void 0===i?void 0:i.graphDataPointsForRanges[0]:null==$||null===(t=$.data)||void 0===t||null===(r=t.organization)||void 0===r||null===(s=r.shop)||void 0===s?void 0:s.graphDataPointsRequested,p=O?null==z||null===(d=z.data)||void 0===d||null===(l=d.organization)||void 0===l||null===(o=l.shop)||void 0===o?void 0:o.graphDataPointsForRanges[1]:null==$||null===(m=$.data)||void 0===m||null===(u=m.organization)||void 0===u||null===(c=u.shop)||void 0===c?void 0:c.graphDataPointsPrevious,{todayRange:k,pastRange:g}=(({timeFrame:e,preset:n,current:a,previous:i,utcOffset:t,timezoneAbbreviation:r})=>{var s,d,l,o;let m=null!==(s=e.from)&&void 0!==s?s:new Date,u=null!==(d=e.to)&&void 0!==d?d:new Date,c=null!==(l=e.compareFrom)&&void 0!==l?l:new Date,v=null!==(o=e.compareTo)&&void 0!==o?o:new Date;null!=a&&a.length&&(m=new Date(a[a.length-1].timestamp),u=new Date(a[0].timestamp),void 0!==t&&(m=V(m,t),u=V(u,t))),null!=i&&i.length&&(c=new Date(i[i.length-1].timestamp),v=new Date(i[0].timestamp),void 0!==t&&(c=V(c,t),v=V(v,t)));let p={todayRange:"",pastRange:""};p=n===j.d.Today?((e,n)=>{const a=e.toLocaleString("default",{month:"long"}),i=e.toLocaleString("default",{month:"long"}),t=e.getFullYear()===n.getFullYear(),r=t?"":`, ${e.getFullYear()}`,s=t?"":`, ${n.getFullYear()}`;return{todayRange:`${a} ${e.getDate()}${r}`,pastRange:`${i} ${n.getDate()}${s}`}})(m,c):M({pastDateLowerBound:c,pastDateUpperBound:v,currentDateLowerBound:m,currentDateUpperBound:u});const{todayRange:k,pastRange:g}=p;return{todayRange:`${k} ${void 0===t?"":r}`,pastRange:`${g} ${void 0===t?"":r}`}})({timeFrame:y,preset:b,current:v,previous:p,utcOffset:w,timezoneAbbreviation:n.timezoneAbbreviation}),{currentSeriesData:f,previousSeriesData:h}=Xe({current:v,previous:p,spanUnit:y.unit,spanCount:y.count});return{currentSeries:{type:"line",data:f,name:k,color:"#5C6AC4",showInLegend:Boolean(f.length)},previousSeries:{type:"line",data:h,name:g,color:"#919EAB",dashStyle:"ShortDot",showInLegend:Boolean(h.length)}}}),[O,null==z?void 0:z.data,null==$?void 0:$.data,y,w]),K=n.timezoneOffsetMinutes>=0?"+":"",X=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:An,"aria-hidden":"true"}),(0,p.jsxs)("time",{children:[n.timezoneAbbreviation," (UTC",K,n.timezoneOffsetMinutes/60,")"]})]}),ee=n.salesSummaryForRanges?n.salesSummaryForRanges:n.salesSummary,ne=d?(0,p.jsx)(be.$,{size:"small"}):null!==(o=u.formatNumber(null==s?void 0:s.sessionsTotal))&&void 0!==o?o:"-";let ae=(0,p.jsx)(be.$,{size:"small"});const ie=d?(0,p.jsx)(be.$,{size:"small"}):null!==(m=u.formatPercentage((null==s?void 0:s.conversionRateTotal)||0))&&void 0!==m?m:"-";let te=(0,p.jsx)(be.$,{size:"small"});d||(te=null!==(null==s?void 0:s.conversionRateTrend)&&void 0!==(null==s?void 0:s.conversionRateTrend)?(0,p.jsx)(Ue,{trend:null==s?void 0:s.conversionRateTrend,small:!0,percentColourOnly:!0},"conversionRateTrend"):(0,p.jsx)("span",{children:"-"}),ae=null!==(null==s?void 0:s.sessionsTrend)&&void 0!==(null==s?void 0:s.sessionsTrend)?(0,p.jsx)(Ue,{trend:null==s?void 0:s.sessionsTrend,small:!0,percentColourOnly:!0},"sessionsTrend"):(0,p.jsx)("span",{children:"-"}));const re=[[(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/reports/sessions_over_time`,onClick:()=>Q("sessions_link"),accessibilityLabel:u.translate("StoreOverview.SessionsAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.Sessions")},"sessionsLink"),ne,ae],[(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/reports/sales_over_time`,onClick:()=>Q("total_orders_link"),accessibilityLabel:u.translate("StoreOverview.TotalOrdersAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.TotalOrders")},"totalOrdersLink"),u.formatNumber(ee.ordersTotal),null===ee.ordersTrend||void 0===ee.ordersTrend?"-":(0,p.jsx)(Ue,{trend:ee.ordersTrend,small:!0,percentColourOnly:!0},"totalOrdersTrend")],[(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/reports/average_order_value`,onClick:()=>Q("average_order_value_link"),accessibilityLabel:u.translate("StoreOverview.AverageOrderValueAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.AverageOrderValue")},"averageOrderValueLink"),(0,p.jsx)(dn,{presentment:ee.averageOrderValue.presentment,shop:ee.averageOrderValue.shop,conversionRate:ee.averageOrderValue.conversionRate,onHover:()=>H("average_order_value")},"totalSalesValue"),null===ee.averageOrderValueTrend||void 0===ee.averageOrderValueTrend?"-":(0,p.jsx)(Ue,{trend:ee.averageOrderValueTrend,small:!0,percentColourOnly:!0},"totalSalesTrend")],[(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/reports/online_store_conversion`,onClick:()=>Q("conversion_link"),accessibilityLabel:u.translate("StoreOverview.ConversionRateAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.ConversionRate")},"conversionRateLink"),ie,te]];return(0,p.jsxs)(Fe.z,{sectioned:!0,children:[(0,p.jsxs)("header",{className:jn,children:[(0,p.jsxs)("div",{className:On,children:[(0,p.jsx)("div",{className:wn,children:T}),(0,p.jsx)("div",{className:Rn,children:(0,p.jsxs)(De.x,{variant:"bodyMd",as:"span",color:"subdued",children:[_e(n.shopifyDomain),void 0===w?"":X]})})]}),(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/dashboards`,onClick:()=>Q("dashboard_link"),accessibilityLabel:u.translate("StoreOverview.DashboardLinkAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.DashboardLink")})]}),(0,p.jsx)("section",{className:Vn,children:(0,p.jsx)(Ke,{title:(0,p.jsx)(Se.r,{url:`${n.shopifyDomain}/reports/sales_over_time`,onClick:()=>Q("total_sales_link"),accessibilityLabel:u.translate("StoreOverview.TotalSalesAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.TotalSales")}),totalData:{total:(0,p.jsx)(dn,{presentment:ee.salesTotal.presentment,shop:ee.salesTotal.shop,conversionRate:ee.salesTotal.conversionRate,onHover:()=>H("total_sales")}),trend:ee.salesTrend},spaceBetween:a})}),(0,p.jsx)("div",{onMouseEnter:()=>H("graph"),children:(0,p.jsx)(Tn,{currentSeries:J,previousSeries:W,currencyCode:n.currency,height:a?160:300,interval:y.unit,count:y.count,loading:i||U})}),(0,p.jsx)("section",{className:$n,children:(0,p.jsx)("div",{className:Mn,children:re.map(((e,n)=>(0,p.jsxs)(f.Fragment,{children:[(0,p.jsx)("span",{children:e[0]}),(0,p.jsx)("span",{className:Pn,children:e[1]}),(0,p.jsx)("span",{className:Bn,children:e[2]})]},n)))})})]})},En={Pagination:"F2m41",StoreOverview:"nssst",StoreList:"bf4sh",StoreListItem:"HLOGd",StoreListSingular:"YEBqb"};var zn=a("./node_modules/@shopify/polaris/build/esnext/components/SkeletonDisplayText/SkeletonDisplayText.esnext"),Un=a("./node_modules/@shopify/polaris/build/esnext/components/SkeletonBodyText/SkeletonBodyText.esnext");const qn="mn1HA",In="CxA3Z",Hn="x8GCx",Qn="ISpig",Zn=()=>{const e=(0,p.jsxs)("div",{className:qn,children:[(0,p.jsx)(zn.$,{}),(0,p.jsx)("br",{}),(0,p.jsx)(Un.j,{lines:1})]});return(0,p.jsxs)(Fe.z,{sectioned:!0,title:e,children:[(0,p.jsx)("div",{className:In,children:(0,p.jsx)(zn.$,{})}),(0,p.jsx)("div",{className:Qn}),(0,p.jsx)("div",{className:Hn,children:(0,p.jsx)(Un.j,{lines:2})})]})},Yn=()=>(0,p.jsxs)("div",{className:En.StoreList,children:[(0,p.jsx)("div",{className:En.StoreListItem,children:(0,p.jsx)(Zn,{})}),(0,p.jsx)("div",{className:En.StoreListItem,children:(0,p.jsx)(Zn,{})})]}),Gn=JSON.parse('{"NoResultStoreList":{"title":"The store you\'re looking for couldn\'t be found.","subtitle":"Check the spelling and try again."}}'),Jn={[Symbol.for("i18n-id")]:"NoResultStoreOverviewSearch_wnluph",en:Gn},Wn="rBnM8",Kn=()=>{const[e]=(0,r.Q)({id:"NoResultStoreOverviewSearch_1uapafb",fallback:Object.values(Jn)[0],translations:e=>Promise.resolve(Jn[e])});return(0,p.jsxs)("div",{className:Wn,children:[(0,p.jsx)(De.x,{variant:"headingMd",as:"h2",children:e.translate("NoResultStoreList.title")}),(0,p.jsx)(De.x,{variant:"bodyMd",as:"span",color:"subdued",children:e.translate("NoResultStoreList.subtitle")})]})},Xn=12e4,ea=({presentmentCurrencyCode:e})=>{var n,a,i,t,r,s;const{paginationClickEvent:d,searchFocusEvent:l}=_(),o=(0,N.S)("overview_polling"),{overviewState:{timeFrame:m,preset:u}}=D(),[c,v]=oe(),[k]=(0,W.Z)(c,300),g=k[se.Query],{before:y,after:b}=function(){const e=(0,K.TH)(),n=new URLSearchParams(e.search),a=n.get(me.After)||void 0;return{before:n.get(me.Before)||void 0,after:a}}(),S=m.type===R.d.Custom||m.type===R.d.Fixed,{requestedDateRange:F,comparisonDateRange:x}=H(m),C={presentmentCurrency:e,query:g,preset:u,spanCount:m.count,spanUnit:m.unit,utcOffset:-1*(new Date).getTimezoneOffset(),requestedDateRange:S?F:null,comparisonDateRange:S?x:null,isRangeQuery:S,after:b,before:y,first:y?void 0:6,last:y?6:void 0},{data:T,loading:j}=(0,h.Z)(te,{fetchPolicy:"no-cache",variables:C,pollInterval:o?Xn:void 0}),{data:O,loading:w}=(0,h.Z)(re,{fetchPolicy:"no-cache",variables:C,pollInterval:o?Xn:void 0}),V=(0,f.useMemo)((()=>{var e,n;const a=null==O||null===(e=O.organization)||void 0===e||null===(n=e.shops)||void 0===n?void 0:n.edges;return(null==a?void 0:a.reduce(((e,n)=>{var a,i;const t=null!=n&&null!==(a=n.node)&&void 0!==a&&a.sessionsSummary?n.node.sessionsSummary:null==n||null===(i=n.node)||void 0===i?void 0:i.sessionsSummaryForRanges;return e[n.node.id]=t,e}),{}))||{}}),[O,w]),$=null!==(n=null==T||null===(a=T.organization)||void 0===a?void 0:a.shopsCount)&&void 0!==n?n:0,M=[En.StoreListItem].concat(1===$?[En.StoreListSingular]:[]).join(" "),P=$>1,B=P&&$>6,A=null!==(i=null==T||null===(t=T.organization)||void 0===t||null===(r=t.shops)||void 0===r?void 0:r.edges)&&void 0!==i?i:[],L=!T&&j,E=(0,f.useRef)(null),{hasPrevious:z,onPrevious:U,hasNext:q,onNext:I}=ie(null==T||null===(s=T.organization)||void 0===s?void 0:s.shops,E),Q=(0,f.useCallback)((()=>{l({maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Z({timeFrame:m,preset:u,timeFrameOptions:Y})})}),[$,u,m]),G=L?(0,p.jsx)(Yn,{}):(0,p.jsxs)("div",{className:En.StoreList,children:[B&&0===A.length&&(0,p.jsx)(Kn,{}),A.map((e=>{var n;return null!=e&&e.node?(0,p.jsx)("div",{className:M,children:(0,p.jsx)(Ln,{storeCount:(null==T||null===(n=T.organization)||void 0===n?void 0:n.shopsCount)||0,store:e.node,isMultiStoreOrganization:P,loading:L,isSearchResult:""!==c[se.Query],sessionsData:V[e.node.id],sessionsDataLoading:w})},e.cursor):null}))]});return(0,p.jsxs)("div",{ref:E,className:En.StoreOverview,children:[B&&(0,p.jsx)(fe,{queryValue:c[se.Query],onQueryValueChange:e=>v({[se.Query]:e,[se.Before]:"",[se.After]:""}),onSearchFocus:Q}),G,(z||q)&&(0,p.jsx)("div",{className:En.Pagination,children:(0,p.jsx)(J.t,{hasPrevious:z,onPrevious:()=>{U&&U(),d({element:"previous",isSearchResult:""!==c[se.Query],maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Z({timeFrame:m,preset:u,timeFrameOptions:Y})})},hasNext:q,onNext:()=>{I&&I(),d({element:"next",isSearchResult:""!==c[se.Query],maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Z({timeFrame:m,preset:u,timeFrameOptions:Y})})}})})]})},na=JSON.parse('{"NoStoresOverview":{"MainHeader":"Your business at a glance","SubHeader":"See latest sales, orders and performance across all of your live stores.","LearnMoreButton":"Learn more"}}'),aa={[Symbol.for("i18n-id")]:"NoStoresOverview_m4a9tv",en:na};var ia=a("./node_modules/@shopify/polaris/build/esnext/components/TextContainer/TextContainer.esnext"),ta=a("./node_modules/@shopify/polaris/build/esnext/components/Button/Button.esnext");function ra(){return(0,p.jsxs)("svg",{width:"440",height:"440",viewBox:"0 0 440 440",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("circle",{cx:"220",cy:"220",r:"125",fill:"white"}),(0,p.jsx)("clipPath",{id:"clip0",clipPathUnits:"userSpaceOnUse",x:"95",y:"95",width:"250",height:"250",children:(0,p.jsx)("circle",{cx:"220",cy:"220",r:"125",fill:"white"})}),(0,p.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,p.jsx)("path",{d:"M132.917 308.75L345 223.333",stroke:"#42474C",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"6 10"}),(0,p.jsx)("path",{d:"M112.917 296.667L160.384 254.429C161.389 253.535 162.866 253.419 163.998 254.146L188.717 270.01C189.523 270.527 190.528 270.628 191.422 270.282L236.897 252.641C237.799 252.291 238.814 252.397 239.623 252.926L278.155 278.106C279.441 278.946 281.153 278.679 282.123 277.489L346.25 198.75",stroke:"#108060",strokeWidth:"6"})]}),(0,p.jsx)("circle",{cx:"162.083",cy:"252.083",r:"5.41667",fill:"#108060"}),(0,p.jsx)("path",{d:"M283.167 201V245",stroke:"#42474C",strokeWidth:"2"}),(0,p.jsx)("g",{filter:"url(#filter0_d)",children:(0,p.jsx)("path",{d:"M248 163C248 161.343 249.343 160 251 160H312C313.657 160 315 161.343 315 163V199C315 200.657 313.657 202 312 202H251C249.343 202 248 200.657 248 199V163Z",fill:"white"})}),(0,p.jsx)("path",{d:"M262.5 174.167H300.833",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("circle",{cx:"283.167",cy:"247.667",r:"4.16667",fill:"#42474C"}),(0,p.jsx)("rect",{x:"261.667",y:"181",width:"28.3333",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("g",{filter:"url(#filter1_d)",children:(0,p.jsx)("path",{d:"M125 107C125 105.343 126.343 104 128 104H217C218.657 104 220 105.343 220 107V226C220 227.657 218.657 229 217 229H128C126.343 229 125 227.657 125 226V107Z",fill:"white"})}),(0,p.jsx)("g",{filter:"url(#filter2_d)",children:(0,p.jsx)("path",{d:"M114 116C114 114.343 115.343 113 117 113H207C208.657 113 210 114.343 210 116V236C210 237.657 208.657 239 207 239H117C115.343 239 114 237.657 114 236V116Z",fill:"white"})}),(0,p.jsx)("rect",{x:"125.833",y:"130.833",width:"23.3333",height:"23.3333",rx:"3",fill:"#108060"}),(0,p.jsx)("path",{d:"M159.167 134.167H193.333",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("rect",{x:"158.333",y:"215",width:"38.3333",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("rect",{x:"125.833",y:"168.333",width:"23.3333",height:"23.3333",rx:"3",fill:"#108060"}),(0,p.jsx)("path",{d:"M159.167 171.667H193.333",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("rect",{x:"158.333",y:"181.667",width:"31.6667",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("rect",{x:"158.333",y:"144.167",width:"31.6667",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsxs)("defs",{children:[(0,p.jsxs)("filter",{id:"filter0_d",x:"238",y:"152",width:"87",height:"62",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,p.jsxs)("filter",{id:"filter1_d",x:"120",y:"100",width:"105",height:"135",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,p.jsxs)("filter",{id:"filter2_d",x:"104",y:"105",width:"116",height:"146",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})]})]})}const sa="lwAtb",da="SAfZ3",la="TH0_f",oa="C7PUv",ma="tXyoY",ua=()=>{const[e]=(0,r.Q)({id:"NoStoresOverview_wp11r9",fallback:Object.values(aa)[0],translations:e=>Promise.resolve(aa[e])});return(0,p.jsxs)("div",{className:sa,children:[(0,p.jsxs)("div",{className:da,children:[(0,p.jsxs)(ia.l,{children:[(0,p.jsx)(De.x,{variant:"heading4xl",as:"p",children:e.translate("NoStoresOverview.MainHeader")}),(0,p.jsx)("p",{className:la,children:(0,p.jsx)(De.x,{variant:"headingLg",as:"p",children:e.translate("NoStoresOverview.SubHeader")})})]}),(0,p.jsx)("div",{className:ma,children:(0,p.jsx)(ta.z,{primary:!0,url:"https://help.shopify.com/en/manual/shopify-plus/overview",children:e.translate("NoStoresOverview.LearnMoreButton")})})]}),(0,p.jsx)("div",{className:oa,children:(0,p.jsx)(ra,{})})]})},ca=JSON.parse('{"OrganizationOverview":{"Header":"All stores","TotalSales":{"Title":"Total sales","TooltipExplanation":"Gross sales (minus discounts and returns) plus taxes and shipping, across all stores during the specified time period. Total sales currency is converted (if applicable) using a daily average exchange rate.","TooltipSingleCurrencyExplanation":"Gross sales (minus discounts and returns) plus taxes and shipping, across all stores during the specified time period.","TooltipPrompt":"View all conversions"},"TotalOrders":{"Title":"Total orders","TooltipExplanation":"Total number of orders across all stores during the specified time period."}}}'),va={[Symbol.for("i18n-id")]:"OrganizationOverview_1pevanp",en:ca};var pa=a("./node_modules/@shopify/polaris/build/esnext/components/Modal/Modal.esnext"),ka=a("./node_modules/@shopify/polaris/build/esnext/components/DataTable/DataTable.esnext");const ga=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SalesConversionList"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentSpread","name":{"kind":"Name","value":"SalesConversionList"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"SalesConversionList"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":923,"source":{"body":"query SalesConversionList($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$preset:TimeFramePreset){organization{id salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset}){salesTotal{currencyCode value __typename}__typename}...SalesConversionList __typename}}fragment SalesConversionList on Organization{shopsUnpaginated{id name shopifyDomain salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset}){ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend averageOrderValueTrend averageOrderValue{...MoneyBag __typename}__typename}__typename}__typename}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f57ca39642f9f8611d16d1908c794c2ece504b20fb1ae3235482b76c3ca9264c"}'),ya=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SalesConversionListRanges"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":836,"source":{"body":"query SalesConversionListRanges($presentmentCurrency:CurrencyCode!,$requestedDateRange:DateRangeInput!,$comparisonDateRange:DateRangeInput!){organization{id salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency){salesTotal{currencyCode value __typename}__typename}shopsUnpaginated{id name shopifyDomain salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency){ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend averageOrderValueTrend averageOrderValue{...MoneyBag __typename}__typename}__typename}__typename}}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"9d53dd3254f950bc285180a2e0a2fd347c2238ab1b75532b21ca4737b02da627"}'),fa="a2Zup",ha=["Store","Total sales","Rate","Converted total"],Na=["text","numeric","numeric","numeric"],ba=({open:e,handleClose:n,currency:a})=>{var i,t,s,d,l,o,m,u,c,v;const[k]=(0,r.Q)(),{overviewState:{timeFrame:g,preset:y}}=D(),f=(0,h.Z)(ga,{variables:{preset:y,spanCount:g.count,spanUnit:g.unit,utcOffset:-1*(new Date).getTimezoneOffset(),presentmentCurrency:a},fetchPolicy:"no-cache",skip:g.type===R.d.Custom}),{requestedDateRange:N,comparisonDateRange:b}=H(g),S=(0,h.Z)(ya,{variables:{requestedDateRange:N,comparisonDateRange:b,presentmentCurrency:a},fetchPolicy:"no-cache",skip:g.type!==R.d.Custom}),F=g.type===R.d.Custom?null==S||null===(i=S.data)||void 0===i||null===(t=i.organization)||void 0===t?void 0:t.salesSummaryForRanges:null==f||null===(s=f.data)||void 0===s||null===(d=s.organization)||void 0===d?void 0:d.salesSummary,x=f.loading||S.loading,C=(null!==(l=g.type===R.d.Custom?null==S||null===(o=S.data)||void 0===o||null===(m=o.organization)||void 0===m?void 0:m.shopsUnpaginated:null==f||null===(u=f.data)||void 0===u||null===(c=u.organization)||void 0===c?void 0:c.shopsUnpaginated)&&void 0!==l?l:[]).map((e=>{var n,a;const i=null==e?void 0:e.shopifyDomain,t=g.type===R.d.Custom?null==e?void 0:e.salesSummaryForRanges:null==e?void 0:e.salesSummary,r=k.formatNumber(parseFloat(t.salesTotal.conversionRate),{minimumFractionDigits:1,precision:5});return[i,k.formatCurrency(Number(t.salesTotal.shop.value),{currency:null!==(n=t.salesTotal.shop.currencyCode)&&void 0!==n?n:void 0}),r,k.formatCurrency(Number(t.salesTotal.presentment.value),{currency:null!==(a=t.salesTotal.presentment.currencyCode)&&void 0!==a?a:void 0})]})),_=F&&k.formatCurrency(Number(F.salesTotal.value),{currency:null!==(v=F.salesTotal.currencyCode)&&void 0!==v?v:void 0});return(0,p.jsx)(pa.u,{large:!0,open:e,onClose:n,title:"Total sales conversion details",primaryAction:{content:"Close",onAction:n},children:x?(0,p.jsx)("div",{className:fa,children:(0,p.jsx)(be.$,{})}):(0,p.jsx)(ka.w,{columnContentTypes:Na,headings:ha,rows:C,totals:["","-","-",_],totalsName:{plural:"All stores",singular:"All stores"},defaultSortDirection:"none"})})},Sa="iQtrJ",Fa="VcIjD",Da="IK4dZ",xa="QhcgE",Ca="KfSUm",_a="l6jhw",Ta="T9XUX",ja="igo3T";function Oa({explanation:e,onClickPrompt:n,promptText:a,tooltipText:i}){return(0,p.jsx)(rn,{tooltipText:i,children:(0,p.jsxs)("div",{className:Ta,children:[(0,p.jsx)(De.x,{variant:"bodyMd",as:"span",children:e}),a&&(0,p.jsx)("div",{className:ja,children:(0,p.jsx)(Se.r,{onClick:n,children:a})})]})})}const wa=JSON.parse('{"CurrencyPicker":{"ariaLabel":"Select default currency","tooltipContent":"Manage currency"}}'),Ra={[Symbol.for("i18n-id")]:"CurrencyPicker_1eey948",en:wa};var Va=function(e){return f.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),f.createElement("path",{d:"M10.25 7a.75.75 0 0 1 .75-.75h3.69l-.72-.72a.75.75 0 0 1 1.06-1.06l2 2a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l.72-.72h-3.69a.75.75 0 0 1-.75-.75Z"}),f.createElement("path",{d:"M7.25 5.25a.75.75 0 0 0-1.5 0v.75h-.375a2.375 2.375 0 0 0 0 4.75h1.28a.875.875 0 1 1 0 1.75h-2.905a.75.75 0 0 0 0 1.5h1v.75a.75.75 0 0 0 1.5 0v-.75h.404a2.375 2.375 0 0 0 0-4.75h-1.279a.875.875 0 0 1 0-1.75h2.904a.75.75 0 1 0 0-1.5h-1.029v-.75Z"}),f.createElement("path",{d:"M12.81 13.75h3.69a.75.75 0 0 0 0-1.5h-3.69l.72-.72a.75.75 0 1 0-1.06-1.06l-2 2a.75.75 0 0 0 0 1.06l2 2a.75.75 0 1 0 1.06-1.06l-.72-.72Z"}))};Va.displayName="CurrencyConvertMinor";var $a=a("./node_modules/@shopify/polaris/build/esnext/components/Tooltip/Tooltip.esnext"),Ma=a("./node_modules/@shopify/polaris/build/esnext/components/ChoiceList/ChoiceList.esnext");const Pa="DQdXZ",Ba="nfgub";function Aa({currencies:e,onCurrencyChange:n,selectedCurrency:a="hidden"}){const[i,t]=(0,f.useState)(!1),[s]=(0,r.Q)({id:"CurrencyPicker_8lle1t",fallback:Object.values(Ra)[0],translations:e=>Promise.resolve(Ra[e])}),d=(0,f.useCallback)((()=>t((e=>!e))),[]),l=(0,f.useCallback)((e=>{t(!1),n(e[0])}),[n]),o=(0,p.jsx)($a.u,{preferredPosition:"below",content:s.translate("CurrencyPicker.tooltipContent"),children:(0,p.jsx)("button",{type:"button","aria-label":s.translate("CurrencyPicker.ariaLabel"),onClick:d,className:Pa,children:(0,p.jsx)(pe.J,{source:Va})})});return(0,p.jsx)(an.J,{active:i,activator:o,onClose:d,preferredPosition:"below",preferredAlignment:"right",children:(0,p.jsx)("div",{className:Ba,children:(0,p.jsx)(Ma.X,{title:"",choices:La(e),selected:[a],onChange:l})})})}const La=e=>e.map((e=>({label:`${e.currencyName} (${e.currencyCode})`,value:e.currencyCode}))),Ea=({storeCount:e,isLoading:n,salesSummary:a,currencies:i,onCurrencyChange:t,selectedCurrency:s})=>{const[d]=(0,r.Q)({id:"OrganizationOverview_17kakth",fallback:Object.values(va)[0],translations:e=>Promise.resolve(va[e])}),{overviewState:{timeFrame:l,preset:o}}=D(),{orgCardClickEvent:m,orgCardHoverEvent:u}=_(),[c,v]=(0,f.useState)(!1),k=i.length>1,g={total:a&&B(d,Number(a.salesTotal.value),a.salesTotal.currencyCode)||"-",trend:null==a?void 0:a.salesTrend},y={total:null!=a&&a.ordersTotal?d.formatNumber(a.ordersTotal):"-",trend:null==a?void 0:a.ordersTrend},h=(0,f.useCallback)((n=>u({element:n,prodStoreAccessCount:e,timeFrame:Z({timeFrame:l,preset:o,timeFrameOptions:Y})})),[e,o,l]),N=(0,f.useCallback)((n=>{n&&m({element:"view_all_conversions",prodStoreAccessCount:e,timeFrame:Z({timeFrame:l,preset:o,timeFrameOptions:Y})}),v(null!=n?n:!c)}),[v,c,o,l]),b=(0,p.jsx)("div",{onMouseEnter:()=>h("total_sales_title"),children:(0,p.jsx)(Oa,{explanation:d.translate(k?"OrganizationOverview.TotalSales.TooltipExplanation":"OrganizationOverview.TotalSales.TooltipSingleCurrencyExplanation"),onClickPrompt:N,promptText:k?d.translate("OrganizationOverview.TotalSales.TooltipPrompt"):void 0,tooltipText:d.translate("OrganizationOverview.TotalSales.Title")})}),S=(0,p.jsx)("div",{onMouseEnter:()=>h("total_orders_title"),children:(0,p.jsx)(rn,{tooltipText:d.translate("OrganizationOverview.TotalOrders.Title"),children:(0,p.jsx)("div",{className:_a,children:d.translate("OrganizationOverview.TotalOrders.TooltipExplanation")})})});return(0,p.jsxs)(p.Fragment,{children:[c&&(0,p.jsx)(ba,{open:c,handleClose:()=>N(!1),currency:s}),(0,p.jsxs)("div",{className:Sa,children:[(0,p.jsxs)("div",{className:Fa,children:[d.translate("OrganizationOverview.Header"),i.length>1&&(0,p.jsx)(Aa,{currencies:i,selectedCurrency:s,onCurrencyChange:t})]}),(0,p.jsx)(ia.l,{children:(0,p.jsxs)("div",{className:Da,children:[(0,p.jsx)("div",{className:xa,children:(0,p.jsx)(Ke,{id:"TotalSalesMetric",loading:n,title:b,totalData:g,noFocus:!0})}),(0,p.jsx)("hr",{className:Ca}),(0,p.jsx)("div",{className:xa,children:(0,p.jsx)(Ke,{id:"TotalOrdersMetric",loading:n,title:S,totalData:y,noFocus:!0})})]})})]})]})},za=JSON.parse('{"DateInformationHeader":{"LastUpdated":"Updated: {date}"}}'),Ua={[Symbol.for("i18n-id")]:"Header_1sewsya",en:za};var qa=a("./node_modules/@shopify/polaris/build/esnext/components/ButtonGroup/ButtonGroup.esnext");const Ia=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"AllShopsTimezone"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":104,"source":{"body":"query AllShopsTimezone{organization{id shopsUnpaginated{id timezoneOffsetMinutes __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f91dd0cd7acd1f722686f237a86c83790b470529724b85f330b77ae2b51be963"}'),Ha="ekao_",Qa="RoCVD",Za=JSON.parse('{"RequestedDropdown":{"Mixed":"Mixed","DateRangeLabel":"Date Range","Starting":"Starting","Ending":"Ending"},"TimeFrameOptions":{"today":"Today","24hours":"24 hours","7days":"7 days","28days":"28 days","90days":"90 days","custom":"Custom"}}'),Ya={[Symbol.for("i18n-id")]:"RequestedDropdown_z84dyd",en:Za};var Ga=a("./node_modules/@shopify/polaris/build/esnext/components/Select/Select.esnext"),Ja=a("./node_modules/@shopify/polaris/build/esnext/components/DatePicker/DatePicker.esnext"),Wa=a("./node_modules/@shopify/polaris/build/esnext/components/Banner/Banner.esnext"),Ka=function(e){return f.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),f.createElement("path",{fillRule:"evenodd",d:"M6.24 8.2a.75.75 0 0 1 1.06.04l2.7 2.908 2.7-2.908a.75.75 0 1 1 1.1 1.02l-3.25 3.5a.75.75 0 0 1-1.1 0l-3.25-3.5a.75.75 0 0 1 .04-1.06Z"}))};function Xa(e){const n=(0,f.useRef)();return(0,f.useEffect)((()=>{n.current=e}),[e]),n.current}Ka.displayName="DropdownMinor";function ei(e){return{maxDate:(0,f.useMemo)((()=>(e=>{const n=new Date;let a=new Date;return null!=e&&e.length?(e.forEach((e=>{const i=V(new Date(n.getTime()),e);i>a&&(a=i)})),a):a})(e)),[e]),minDate:(0,f.useMemo)((()=>{const e=V(new Date);return E(e,180)}),[])}}const ni=({tab:e,timezoneData:n,min:a,max:i})=>{let t=new Date(a.getTime()),r=new Date(i.getTime());return null!=n&&n.length?(n.forEach((n=>{let a=V(new Date,n),i=V(new Date,n);e.preset!==j.d.Today&&(a=U(a,e.range),i=e.range.unit===O.E.Days?E(i,1):i),a<t&&(t=a),i>r&&(r=i)})),{start:t,end:r}):{start:t,end:r}},ai=e=>e.match(/^\d{0,4}-\d{0,2}-\d{0,2}$/),ii=({minDate:e,maxDate:n,dropdownState:a,dispatch:i})=>(0,f.useCallback)((t=>{if(!ai(t))return;const r=V(new Date(t));z(r)&&r<n&&r>e&&r<a.selectedDates.end?i({type:"setDateField",payload:{startDateField:t,selectedDates:{...a.selectedDates,start:r}}}):i({type:"setDateField",payload:{startDateField:t}})}),[null==a?void 0:a.selectedDates,e,n]),ti=({minDate:e,maxDate:n,dropdownState:a,dispatch:i})=>(0,f.useCallback)((t=>{if(!ai(t))return;const r=V(new Date(t));z(r)&&r<n&&r>e&&r>a.selectedDates.start?i({type:"setDateField",payload:{endDateField:t,selectedDates:{...a.selectedDates,end:r}}}):i({type:"setDateField",payload:{endDateField:t}})}),[null==a?void 0:a.selectedDates,e,n]),ri=e=>(0,f.useCallback)((n=>e({type:"setSelectedDates",payload:{selectedDates:n}})),[]),si=e=>(0,f.useCallback)(((n,a)=>e({type:"setMonthYear",payload:{month:n,year:a}})),[]),di=({timeFrame:e,preset:n,timezoneData:a,i18n:i})=>{var t;let r=li;const s=new Date;if(null==a||!a.length)return{selectedDateRange:Y[0],changes:!1,month:s.getMonth(),year:s.getFullYear(),selectedDates:{start:s,end:s},startDateField:"",endDateField:"",isMixed:!1};if(n)r=Y.find((e=>e.preset===n));else if(e.type===R.d.Span)r=Y.find((n=>n.range.unit===e.unit&&n.range.count===e.count&&n.type===R.d.Span));else{if(e.type===R.d.Fixed){var d,l;return{selectedDateRange:Q(e,Y),changes:!1,month:null===(d=e.from)||void 0===d?void 0:d.getMonth(),year:null===(l=e.from)||void 0===l?void 0:l.getFullYear(),selectedDates:{start:e.from,end:e.to},startDateField:I(e.from),endDateField:I(e.to),isMixed:!1}}var o,m;if(e.type===R.d.Custom)return{selectedDateRange:r,changes:!1,month:null===(o=e.from)||void 0===o?void 0:o.getMonth(),year:null===(m=e.from)||void 0===m?void 0:m.getFullYear(),selectedDates:{start:e.from,end:e.to},startDateField:I(e.from),endDateField:I(e.to),isMixed:!1}}r=null!==(t=r)&&void 0!==t?t:Y[0];const[u,...c]=a;let v=V(new Date,u),p=V(new Date,u);r.preset!==j.d.Today&&(v=U(v,r.range),p=r.range.unit===O.E.Days?E(p,1):p);const k=ni({tab:r,timezoneData:c,min:v,max:p});let g=I(v),y=I(p);const f=L(v,k.start)||L(p,k.end);return f&&(g=i.translate("RequestedDropdown.Mixed"),y=i.translate("RequestedDropdown.Mixed")),{selectedDateRange:r,changes:!1,month:s.getMonth(),year:s.getFullYear(),selectedDates:k,startDateField:g,endDateField:y,isMixed:Boolean(f)}},li=Y.find((e=>e.type===R.d.Custom)),oi=(e,n)=>{var a,i;switch(n.type){case"initDropdown":return di(n.payload);case"applyChanges":return{...e,changes:!1};case"setMonthYear":return{...e,month:n.payload.month,year:n.payload.year};case"setDateField":return{...e,startDateField:null!==(a=n.payload.startDateField)&&void 0!==a?a:e.startDateField,endDateField:null!==(i=n.payload.endDateField)&&void 0!==i?i:e.endDateField,selectedDates:n.payload.selectedDates?{...n.payload.selectedDates}:e.selectedDates,selectedDateRange:li,changes:!0,isMixed:!1};case"setSelectedDates":return{...e,...n.payload,startDateField:I(n.payload.selectedDates.start),endDateField:I(n.payload.selectedDates.end),selectedDateRange:li,changes:!0,isMixed:!1};case"setSelectedDateRange":return{...e,...n.payload,changes:!0};default:return e}},mi="t6Nu1",ui="rKKtb",ci="JxItF",vi="_miVG",pi="RG0sw",ki=({active:e,timezoneData:n,isDisabled:a,timeFrame:i,preset:t,toggleDropdownActive:s})=>{const{dispatchOverviewAction:d}=D(),[l]=(0,r.Q)({id:"RequestedDropdown_d0igbq",fallback:Object.values(Ya)[0],translations:e=>Promise.resolve(Ya[e])}),[o,m]=(0,f.useReducer)(oi,{timeFrame:i,preset:t,timezoneData:n,i18n:l},di),{stores:u}=(0,x.F)(),{timeFrameClickEvent:c}=_(),{maxDate:v,minDate:k}=ei(n),g=Y.filter((e=>e.type!==R.d.Fixed)).map((e=>({label:l.translate(e.translationKey),value:e.label})));let y=`${i.count} ${i.unit}`;if(t){const e=Y.find((e=>e.preset===t));y=l.translate(e.translationKey)}else if(i.type===R.d.Custom){const{todayRange:e}=M({pastDateLowerBound:i.compareFrom,pastDateUpperBound:i.compareTo,currentDateLowerBound:i.from,currentDateUpperBound:i.to});y=e}else if(i.type===R.d.Fixed){const e=Q(i,Y);e&&(y=l.translate(e.translationKey))}else if(i.type===R.d.Span){const e=Y.find((e=>e.type===R.d.Span&&e.range.count===i.count&&e.range.unit===i.unit));y=l.translate(e.translationKey)}const h=Xa(n);(0,f.useEffect)((()=>{n&&!h&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:n,i18n:l}})}),[n,h]);const N=(0,p.jsx)("span",{className:pi,children:(0,p.jsx)(ta.z,{icon:(0,p.jsx)(pe.J,{source:Ka}),disabled:a,onClick:s,children:y})}),b=(0,f.useCallback)((e=>{const a=Y.find((n=>n.label===e));if(!a||null==n||!n.length)return;const[i,...t]=n;let r=V(new Date,i),s=V(new Date,i);a.preset!==j.d.Today&&(r=U(s,a.range),s=a.range.unit===O.E.Days?E(s,1):s);const d=ni({timezoneData:t,tab:a,min:r,max:s});let o=I(r),u=I(s);const c=(L(r,d.start)||L(s,d.end))&&a.type!==R.d.Custom&&a.type!==R.d.Fixed;c&&(o=l.translate("RequestedDropdown.Mixed"),u=l.translate("RequestedDropdown.Mixed")),m({type:"setSelectedDateRange",payload:{selectedDateRange:a,selectedDates:d,startDateField:o,endDateField:u,isMixed:Boolean(c)}})}),[Y,i,t,n]),S=(0,f.useCallback)((()=>{const e=o.selectedDateRange;let n,a,r,l,v,p,k,g,y="",f="";if(i.type===R.d.Preset)f=t;else if(i.type===R.d.Span)f=`${i.unit} - ${i.count}`;else if(i.type===R.d.Custom)f=`${i.unit} - ${i.count} (Flexible)`,r=I(i.from),l=I(i.to),k=I(i.compareFrom),g=I(i.compareTo);else if(i.type===R.d.Fixed){var h;f=(null===(h=Q(i,Y))||void 0===h?void 0:h.label)||"",r=I(i.from),l=I(i.to),k=I(i.compareFrom),g=I(i.compareTo)}if(e.type===R.d.Preset)y=e.preset,d({type:"updatePreset",payload:{preset:e.preset,timeFrame:e.range}});else if(e.type===R.d.Span)y=`${e.range.unit} - ${e.range.count}`,d({type:"updateTimeFrameSpan",payload:{timeFrame:e.range}});else if(e.type===R.d.Custom){n=I(o.selectedDates.start),a=I(o.selectedDates.end);const{start:i,end:t}=o.selectedDates,r=L(i,t)+1,s=E(i,r),l=E(i,1);y=i===t?`${O.E.Hours} - 24 (Flexible)`:`${e.range.unit} - ${r} (Flexible)`,v=I(s),p=I(l);const m=L(i,t)<=2?O.E.Hours:O.E.Days;d({type:"updateTimeFrameCustom",payload:{timeFrame:{from:i,to:t,compareFrom:s,compareTo:l,unit:m,count:m===O.E.Hours?24*r:r}}})}else if(e.type===R.d.Fixed){const n=e.requestedFixedStart,a=e.requestedFixedEnd,i=e.comparedFixedStart,t=e.comparedFixedEnd;y=e.label;const r=e.range.unit,s=L(n,i);d({type:"updateTimeFrameFixed",payload:{timeFrame:{from:n,to:a,compareFrom:i,compareTo:t,unit:r,count:r===O.E.Hours?24*s:s}}})}c({prodStoreAccessCount:Object.keys(u).length,newTimeFrame:y,previousTimeFrame:f,newRequestedStartDate:n,newRequestedEndDate:a,previousRequestedStartDate:r,previousRequestedEndDate:l,newComparisonStartDate:v,newComparisonEndDate:p,previousComparisonStartDate:k,previousComparisonEndDate:g}),m({type:"applyChanges"}),s()}),[null==o?void 0:o.selectedDateRange,null==o?void 0:o.selectedDates,i,t]);(0,f.useEffect)((()=>{!e&&o.changes&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:n,i18n:l}})}),[e]);const F=ii({minDate:k,maxDate:v,dropdownState:o,dispatch:m}),C=ti({minDate:k,maxDate:v,dropdownState:o,dispatch:m}),T=ri(m),w=si(m);return(0,p.jsx)(an.J,{active:e,activator:N,onClose:s,preferredPosition:"below",preferredAlignment:"left",fluidContent:!0,children:(0,p.jsx)("div",{className:mi,children:(0,p.jsxs)("div",{className:ui,children:[(0,p.jsx)(Ga.P,{label:l.translate("RequestedDropdown.DateRangeLabel"),options:g,onChange:b,value:o.selectedDateRange.label}),o.selectedDateRange.type===R.d.Custom&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:ci,children:[(0,p.jsx)(ve.n,{autoComplete:"off",value:o.startDateField,label:l.translate("RequestedDropdown.Starting"),onChange:F,disabled:o.isMixed}),(0,p.jsx)(ve.n,{autoComplete:"off",value:o.endDateField,label:l.translate("RequestedDropdown.Ending"),onChange:C,disabled:o.isMixed})]}),(0,p.jsx)(Ja.M,{allowRange:!0,month:o.month,year:o.year,onChange:T,onMonthChange:w,selected:o.selectedDates,multiMonth:!0,disableDatesAfter:v,disableDatesBefore:k})]}),o.isMixed&&(0,p.jsx)(ia.l,{children:(0,p.jsx)(Wa.j,{status:"info",children:(0,p.jsx)("p",{children:"This date range is on different calendar days for stores in other time zones."})})}),(0,p.jsxs)("div",{className:vi,children:[(0,p.jsx)(ta.z,{onClick:s,children:"Cancel"}),(0,p.jsx)(ta.z,{onClick:S,disabled:!o.changes,primary:!0,children:"Apply"})]})]})})})},gi=JSON.parse('{"ComparedDropdown":{"Starting":"Starting","Ending":"Ending","ComparedToYesterday":"compared to yesterday","ComparedToCustom":"compared to {range}"}}'),yi={[Symbol.for("i18n-id")]:"ComparedDropdown_157bvau",en:gi},fi=({timeFrame:e,preset:n,timezoneData:a})=>{var i;let t=hi;const r=new Date;if(null==a||!a.length)return{changes:!1,month:r.getMonth(),year:r.getFullYear(),selectedDates:{start:r,end:r},startDateField:"",endDateField:""};if(n)t=Y.find((e=>e.preset===n));else if(e.type===R.d.Span)t=Y.find((n=>n.range.unit===e.unit&&n.range.count===e.count&&n.type===R.d.Span));else if(e.type===R.d.Custom){var s,d;return{changes:!1,month:null===(s=e.compareFrom)||void 0===s?void 0:s.getMonth(),year:null===(d=e.compareFrom)||void 0===d?void 0:d.getFullYear(),selectedDates:{start:e.compareFrom,end:e.compareTo},startDateField:I(e.compareFrom),endDateField:I(e.compareTo)}}t=null!==(i=t)&&void 0!==i?i:Y[0];const[l,...o]=a;let m=V(new Date,l),u=V(new Date,l);t.preset!==j.d.Today&&(m=U(m,t.range),u=t.range.unit===O.E.Days?E(u,1):u);const c=ni({tab:t,timezoneData:o,min:m,max:u}),v=I(m),p=I(u);return{changes:!1,month:r.getMonth(),year:r.getFullYear(),selectedDates:c,startDateField:v,endDateField:p}},hi=Y.find((e=>e.type===R.d.Custom)),Ni=(e,n)=>{var a,i;switch(n.type){case"initDropdown":return fi(n.payload);case"applyChanges":return{...e,changes:!1};case"setMonthYear":return{...e,month:n.payload.month,year:n.payload.year};case"setDateField":return{...e,startDateField:null!==(a=n.payload.startDateField)&&void 0!==a?a:e.startDateField,endDateField:null!==(i=n.payload.endDateField)&&void 0!==i?i:e.endDateField,selectedDates:n.payload.selectedDates?{...n.payload.selectedDates}:e.selectedDates,changes:!0};case"setSelectedDates":return{...e,...n.payload,selectedDates:{...n.payload.selectedDates},startDateField:I(n.payload.selectedDates.start),endDateField:I(n.payload.selectedDates.end),changes:!0};default:return e}},bi="uNPNt",Si="rsP8x",Fi="TOtrj",Di="AWeQE",xi=Y.find((e=>e.type===R.d.Custom)),Ci=({active:e,timezoneData:n,isDisabled:a,timeFrame:i,preset:t,toggleDropdownActive:s})=>{const{dispatchOverviewAction:d}=D(),[l]=(0,r.Q)({id:"ComparedDropdown_s58q12",fallback:Object.values(yi)[0],translations:e=>Promise.resolve(yi[e])}),[o,m]=(0,f.useReducer)(Ni,{timeFrame:i,preset:t,timezoneData:n},fi);(0,f.useEffect)((()=>{m({type:"setTimeFrame",payload:{timeFrame:i,preset:t,timezoneData:n}})}),[i]);const{stores:u}=(0,x.F)(),{timeFrameClickEvent:c}=_(),{maxDate:v,minDate:k}=ei(n),g=Xa(n);(0,f.useEffect)((()=>{n&&!g&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:n}})}),[n,g]);const y=(0,f.useMemo)((()=>(({preset:e,timeFrame:n,i18n:a})=>{if(e)return a.translate("ComparedDropdown.ComparedToYesterday");if(n.type===R.d.Custom){const{pastRange:e}=M({pastDateLowerBound:n.compareFrom,pastDateUpperBound:n.compareTo,currentDateLowerBound:n.from,currentDateUpperBound:n.to});return a.translate("ComparedDropdown.ComparedToCustom",{range:e})}{let e=n.unit;return e=e.charAt(0).toUpperCase()+e.slice(1),a.translate(`ComparedDropdown.ComparedTo${e}`,{timeFrame:`${n.count}`})}})({timeFrame:i,preset:t,i18n:l})),[i,t]),h=(0,p.jsx)("span",{className:Di,children:(0,p.jsx)(ta.z,{icon:(0,p.jsx)(pe.J,{source:Ka}),disabled:a,onClick:s,children:y})}),N=(0,f.useCallback)((()=>{const e=xi;let n="",a="";a=`${i.unit} - ${i.count} (Flexible)`;const t=I(i.from),r=I(i.to),l=I(i.compareFrom),v=I(i.compareTo),p=I(i.from),k=I(i.to),{start:g,end:y}=o.selectedDates,f=L(g,i.from)*(g>i.from?-1:1),h=L(g,y);n=0===h?`${O.E.Hours} - 24 (Flexible)`:`${e.range.unit} - ${h+1} (Flexible)`;const N=I(g),b=I(y),S=L(g,y)<=2&&L(i.from,i.to)<=2?O.E.Hours:O.E.Days;d({type:"updateComparedTimeFrame",payload:{timeFrame:{compareFrom:g,compareTo:y,unit:S,count:S===O.E.Hours?24*f:f}}}),c({prodStoreAccessCount:Object.keys(u).length,newTimeFrame:n,previousTimeFrame:a,newRequestedStartDate:p,newRequestedEndDate:k,previousRequestedStartDate:t,previousRequestedEndDate:r,newComparisonStartDate:N,newComparisonEndDate:b,previousComparisonStartDate:l,previousComparisonEndDate:v}),m({type:"applyChanges"}),s()}),[null==o?void 0:o.selectedDates,i,t]);(0,f.useEffect)((()=>{!e&&o.changes&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:n}})}),[e]);const b=ii({minDate:k,maxDate:v,dropdownState:o,dispatch:m}),S=ti({minDate:k,maxDate:v,dropdownState:o,dispatch:m}),F=ri(m),C=si(m);return(0,p.jsx)(an.J,{active:e,activator:h,onClose:s,preferredPosition:"below",preferredAlignment:"left",fluidContent:!0,children:(0,p.jsxs)("div",{className:bi,children:[(0,p.jsxs)("div",{className:Si,children:[(0,p.jsx)(ve.n,{autoComplete:"off",value:o.startDateField,label:l.translate("ComparedDropdown.Starting"),onChange:b}),(0,p.jsx)(ve.n,{autoComplete:"off",value:o.endDateField,label:l.translate("ComparedDropdown.Ending"),onChange:S})]}),(0,p.jsx)(Ja.M,{allowRange:!0,month:o.month,year:o.year,onChange:F,onMonthChange:C,selected:o.selectedDates,multiMonth:!0,disableDatesAfter:v,disableDatesBefore:k}),(0,p.jsxs)("div",{className:Fi,children:[(0,p.jsx)(ta.z,{onClick:s,children:"Cancel"}),(0,p.jsx)(ta.z,{onClick:N,disabled:!o.changes,primary:!0,children:"Apply"})]})]})})},_i=JSON.parse('{"HeaderDateComparison":{"ComparedToHours":"compared to the previous {timeFrame} hours","ComparedToDays":"compared to the previous {timeFrame} days","ComparedToMonths":"compared to the previous {timeFrame} months","ComparedToYesterday":"compared to yesterday","ComparedToCustom":"compared to {range}"}}'),Ti={[Symbol.for("i18n-id")]:"ComparedTo_11xcjue",en:_i},ji="LHLZA",Oi=({preset:e,timeFrame:n})=>{const[a]=(0,r.Q)({id:"ComparedTo_gl5tc6",fallback:Object.values(Ti)[0],translations:e=>Promise.resolve(Ti[e])});if(e)return(0,p.jsx)("span",{className:ji,children:a.translate("HeaderDateComparison.ComparedToYesterday")});if(n.type===R.d.Custom||n.type===R.d.Fixed){const{pastRange:e}=M({pastDateLowerBound:n.compareFrom,pastDateUpperBound:n.compareTo,currentDateLowerBound:n.from,currentDateUpperBound:n.to});return(0,p.jsx)("span",{className:ji,children:a.translate("HeaderDateComparison.ComparedToCustom",{range:e})})}{let e=n.unit;return e=e.charAt(0).toUpperCase()+e.slice(1),(0,p.jsx)("span",{className:ji,children:a.translate(`HeaderDateComparison.ComparedTo${e}`,{timeFrame:`${n.count}`})})}};var wi=function(e){return e.None="none",e.Requested="requested",e.Compared="compared",e}(wi||{});const Ri=({lastUpdatedAt:e})=>{var n,a;const[i]=(0,r.Q)({id:"Header_nf8mh1",fallback:Object.values(Ua)[0],translations:e=>Promise.resolve(Ua[e])}),{overviewState:{timeFrame:t,preset:s}}=D(),{data:d,loading:l}=(0,h.Z)(Ia,{fetchPolicy:"no-cache"}),o=null==d||null===(n=d.organization)||void 0===n||null===(a=n.shopsUnpaginated)||void 0===a?void 0:a.map((e=>e.timezoneOffsetMinutes)),[m,u]=(0,f.useState)(wi.None),c=(0,f.useCallback)((()=>{u((e=>e===wi.Requested?wi.None:wi.Requested))}),[]),v=(0,f.useCallback)((()=>{u((e=>e===wi.Compared?wi.None:wi.Compared))}),[]),k=e&&i.formatDate(new Date(e),{style:gn.Dn.Time,timeZoneName:"short"});return(0,p.jsxs)("div",{className:Ha,children:[(0,p.jsxs)(qa.h,{children:[(0,p.jsx)(ki,{timezoneData:o,isDisabled:l,timeFrame:t,preset:s,active:m===wi.Requested,toggleDropdownActive:c}),t.type===R.d.Custom?(0,p.jsx)(Ci,{timezoneData:o,isDisabled:l,timeFrame:t,preset:s,active:m===wi.Compared,toggleDropdownActive:v}):(0,p.jsx)(Oi,{timeFrame:t,preset:s})]}),(0,p.jsx)("div",{className:Qa,children:k&&(0,p.jsx)("div",{children:i.translate("DateInformationHeader.LastUpdated",{date:k})})})]})},Vi=({defaultCurrency:e,setCurrency:n})=>{var a,i,t,s,l;const{overviewState:{timeFrame:u,preset:c}}=D(),v=(0,N.S)("overview_polling"),[k]=(0,r.Q)({id:"OverviewPage_hf7wf9",fallback:Object.values(y)[0],translations:e=>Promise.resolve(y[e])}),{TrackStatus:g}=(0,b.Z)(),{orgCardCurrencyChangeEvent:F,overviewPageViewEvent:x}=_(),C=k.translate("Home.PageTitle"),[{value:T,update:j}]=(0,d._)("migration_banner_overview",!1),{requestedDateRange:O,comparisonDateRange:w}=H(u),V=u.type===R.d.Custom||u.type===R.d.Fixed,{data:$,loading:M}=(0,h.Z)(S,{variables:{preset:c,presentmentCurrency:e,spanCount:u.count,spanUnit:u.unit,utcOffset:-1*(new Date).getTimezoneOffset(),requestedDateRange:""===O.from?null:O,comparisonDateRange:""===w.from?null:w,isRange:V},fetchPolicy:"no-cache",pollInterval:v?G:void 0}),P=(null==$||null===(a=$.organization)||void 0===a?void 0:a.shopsCount)||0,B=(0,f.useCallback)((a=>{const i={newCurrencyCode:a,previousCurrencyCode:e,prodStoreAccessCount:P,timeFrame:Z({timeFrame:u,preset:c,timeFrameOptions:Y})};F(i),n(a)}),[P,c,u]);!function(e,n,a){const[i,t]=(0,f.useState)(!1);(0,f.useEffect)((()=>{e&&!i&&(t(!0),n({...a}))}),[e,n,a])}(Boolean($&&!M),x,{prodStoreAccessCount:P,referrer:document.referrer.split("?")[0]});const A=()=>(0,p.jsx)(m.z,{isVisible:!T,migrationSection:m.D.Overview,onDismiss:()=>{j(!0)}});if(!(M||null!=$&&$.organization&&0!==P))return(0,p.jsxs)(o.Z,{fullWidth:!0,title:C,children:[A(),(0,p.jsx)(ua,{})]});const L=P>1,E=null!==(i=null==$||null===(t=$.organization)||void 0===t?void 0:t.currencies)&&void 0!==i?i:[],z=V?null==$||null===(s=$.organization)||void 0===s?void 0:s.salesSummaryForRanges:null==$||null===(l=$.organization)||void 0===l?void 0:l.salesSummary;return(0,p.jsxs)(o.Z,{fullWidth:!0,title:C,children:[A(),(0,p.jsx)(Ri,{lastUpdatedAt:null==$?void 0:$.salesLastUpdatedAt}),L&&(0,p.jsx)(Ea,{storeCount:P,isLoading:M&&!$,salesSummary:z,currencies:E,onCurrencyChange:B,selectedCurrency:e}),(0,p.jsx)(ea,{presentmentCurrencyCode:e}),(0,p.jsx)(g,{status:"complete"})]})},$i=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OrganizationDefaultCurrency"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"defaultCurrency"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":115,"source":{"body":"query OrganizationDefaultCurrency{organization{id defaultCurrency{currencyCode currencyName __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"c8554a5b4475cb6012cc43060aeaf38647a003ccb1c24fccdc1f335270cdd84f"}');function Mi(){const[e]=(0,r.Q)({id:"Overview_12xrrtm",fallback:Object.values(t)[0],translations:e=>Promise.resolve(t[e])});(0,l.Ts)((0,p.jsx)(k,{}));const[{value:n,update:a}]=(0,d._)("migration_banner_overview",!1),{defaultCurrency:i,updateDefaultCurrency:u,currencyLoading:c}=function(){var e,n;const{nodeEnv:a,orgId:i,userUuid:t}=(0,x.F)(),[{value:r,update:s}]=(0,d._)(P({nodeEnv:a,userUuid:t,orgId:i})),{data:l,loading:o}=(0,h.Z)($i,{skip:Boolean(r),fetchPolicy:"no-cache"});return(0,f.useEffect)((()=>{var e,n;null!=l&&null!==(e=l.organization)&&void 0!==e&&null!==(n=e.defaultCurrency)&&void 0!==n&&n.currencyCode&&s(l.organization.defaultCurrency.currencyCode)}),[null==l||null===(e=l.organization)||void 0===e||null===(n=e.defaultCurrency)||void 0===n?void 0:n.currencyCode]),{defaultCurrency:r,updateDefaultCurrency:s,currencyLoading:o}}();return c?(0,p.jsx)(s.g,{}):i?(0,p.jsx)(Vi,{defaultCurrency:i,setCurrency:u}):(0,p.jsxs)(o.Z,{fullWidth:!0,title:e.translate("Home.PageTitle"),children:[(0,p.jsx)(m.z,{isVisible:!n,migrationSection:m.D.Overview,onDismiss:()=>{a(!0)}}),(0,p.jsx)(ua,{})]})}},"./app/utilities/highcharts.ts":(e,n,a)=>{"use strict";a.d(n,{m:()=>i});const i=a("./packages/@web-utilities/env/index.ts").C5},"./node_modules/qs/lib/index.js":(e,n,a)=>{"use strict";var i=a("./node_modules/qs/lib/stringify.js"),t=a("./node_modules/qs/lib/parse.js"),r=a("./node_modules/qs/lib/formats.js");e.exports={formats:r,parse:t,stringify:i}},"./node_modules/use-debounce/esm/useDebounce.js":(e,n,a)=>{"use strict";a.d(n,{Z:()=>s});var i=a("./node_modules/react/index.js"),t=a("./node_modules/use-debounce/esm/useDebouncedCallback.js");function r(e,n){return e===n}function s(e,n,a){var s=a&&a.equalityFn?a.equalityFn:r,d=(0,i.useState)(e),l=d[0],o=d[1],m=(0,t.Z)((0,i.useCallback)((function(e){return o(e)}),[]),n,a),u=m[0],c=m[1],v=m[2],p=(0,i.useRef)(e);return(0,i.useEffect)((function(){s(p.current,e)||(u(e),p.current=e)}),[e,u,s]),[l,c,v]}},"./node_modules/use-debounce/esm/useDebouncedCallback.js":(e,n,a)=>{"use strict";a.d(n,{Z:()=>t});var i=a("./node_modules/react/index.js");function t(e,n,a){void 0===a&&(a={});var t=a.maxWait,r=(0,i.useRef)(null),s=(0,i.useRef)([]),d=a.leading,l=void 0===a.trailing||a.trailing,o=(0,i.useRef)(!1),m=(0,i.useRef)(null),u=(0,i.useRef)(!1),c=(0,i.useRef)(e);c.current=e;var v=(0,i.useCallback)((function(){clearTimeout(m.current),clearTimeout(r.current),r.current=null,s.current=[],m.current=null,o.current=!1}),[]);(0,i.useEffect)((function(){return function(){u.current=!0}}),[]);var p=(0,i.useCallback)((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];s.current=e,clearTimeout(m.current),o.current&&(o.current=!1),m.current||!d||o.current||(c.current.apply(c,e),o.current=!0),m.current=setTimeout((function(){var n=!0;d&&o.current&&(n=!1),v(),!u.current&&l&&n&&c.current.apply(c,e)}),n),t&&!r.current&&l&&(r.current=setTimeout((function(){var e=s.current;v(),u.current||c.current.apply(null,e)}),t))}),[t,n,v,d,l]),k=(0,i.useCallback)((function(){m.current&&(c.current.apply(null,s.current),v())}),[v]);return[p,v,k]}},"?09cc":()=>{},"./node_modules/@shopify/polaris-icons/dist/icons/ArrowRightMinor.svg.mjs":(e,n,a)=>{"use strict";a.d(n,{S:()=>t});var i=a("./node_modules/react/index.js"),t=function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),i.createElement("path",{fillRule:"evenodd",d:"M3.5 10a.75.75 0 0 1 .75-.75h9.69l-2.72-2.72a.75.75 0 1 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06l2.72-2.72h-9.69a.75.75 0 0 1-.75-.75Z"}))};t.displayName="ArrowRightMinor"}}]);