(self.webpackChunkweb=self.webpackChunkweb||[]).push([["section-home"],{"./app/org-admin/components/PlusMigrationBanner/PlusMigrationBanner.tsx":(e,a,n)=>{"use strict";n.d(a,{D:()=>v,z:()=>k});const i=JSON.parse('{"PlusMigrationBanner":{"billing":{"title":"Changes coming to Plus Billing","body":"You will soon be able to centrally manage bills across all stores in your organization. We will be communicating with you closer to when these changes will take effect. "},"overview":{"title":"Changes coming to Overview","body":"We are making improvements to the way you view and track performance across your organization. We will be communicating with you closer to when these changes will take effect. "},"users":{"title":"Changes coming to User Management","body":"We are making improvements to the way you manage users across your organization. We will be communicating with you closer to when these changes will take effect."},"stores":{"title":"Changes coming to Store Management","body":"We are making improvements to the way you manage stores across your organization. We will be communicating with you closer to when these changes will take effect."},"learnMore":"Learn more","dismiss":"Dismiss"}}'),t={[Symbol.for("i18n-id")]:"PlusMigrationBanner_edfflm",en:i};var r=n("./node_modules/@shopify/polaris/build/esnext/components/Box/Box.esnext"),s=n("./node_modules/@shopify/polaris/build/esnext/components/CalloutCard/CalloutCard.esnext"),d=n("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext");const o=n.p+"687dc4e45581255a.svg",l=n.p+"426d529e14eb195a.svg",m=n.p+"122a0a394e584dcc.svg",u=n.p+"89ca5e20bb87190c.svg";var c=n("./node_modules/react/jsx-runtime.js");let v=function(e){return e.Billing="billing",e.Users="users",e.Stores="stores",e.Overview="overview",e}({});const p=e=>{switch(e){case v.Billing:return o;case v.Users:return l;case v.Stores:return m;case v.Overview:return u}};function k({migrationSection:e,isVisible:a,onDismiss:n}){const[i]=(0,d.Q)({id:"PlusMigrationBanner_1crc94g",fallback:Object.values(t)[0],translations:e=>Promise.resolve(t[e])});return a?(0,c.jsx)(r.x,{paddingBlockEnd:"6",children:(0,c.jsx)(s.r,{title:i.translate(`PlusMigrationBanner.${e}.title`),onDismiss:n,illustration:p(e),primaryAction:{content:"Learn more",url:"http://www.shopify.com/enterprise/organization-settings",target:"_blank"},children:i.translate(`PlusMigrationBanner.${e}.body`)})}):null}},"./app/org-admin/foundation/FeatureFlags/hook.ts":(e,a,n)=>{"use strict";n.d(a,{S:()=>r,o:()=>s});var i=n("./node_modules/react/index.js"),t=n("./app/org-admin/foundation/FeatureFlags/context.ts");function r(e){return Boolean((0,i.useContext)(t._).featureFlags[e])}function s(e){const a=(0,i.useContext)(t._).featureFlags;return(0,i.useMemo)((()=>e.filter((e=>a[e]))),[a,e])}},"./app/org-admin/sections/Home/Overview.tsx":(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>Mi});const i=JSON.parse('{"Home":{"PageTitle":"Overview"}}'),t={[Symbol.for("i18n-id")]:"Home_1rdwt01",en:i};var r=n("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),s=n("./node_modules/@shopify/polaris/build/esnext/components/Loading/Loading.esnext"),d=n("./packages/@web-utilities/local-storage/hooks.ts"),o=n("./app/org-admin/foundation/FrameProvider/FrameProvider.tsx"),l=n("./app/org-admin/components/Page/Page.tsx"),m=n("./app/org-admin/components/PlusMigrationBanner/PlusMigrationBanner.tsx");const u=JSON.parse('{"OverviewFooter":{"product":"Overview"}}'),c={[Symbol.for("i18n-id")]:"Footer_r69g5k",en:u};var v=n("./app/org-admin/foundation/Feedback/LearnMore.tsx"),p=n("./node_modules/react/jsx-runtime.js");function k(){const[e]=(0,r.Q)({id:"Footer_gurd1",fallback:Object.values(c)[0],translations:e=>Promise.resolve(c[e])});return(0,p.jsx)(v.Z,{learnMoreLinkUrl:`https://help.shopify.com/${e.locale}/manual/shopify-plus/overview`,product:e.translate("OverviewFooter.product")})}const g=JSON.parse('{"Home":{"PageTitle":"Overview"}}'),y={[Symbol.for("i18n-id")]:"OverviewPage_1l0ud4t",en:g};var f=n("./node_modules/react/index.js"),h=n("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext"),N=n("./app/org-admin/foundation/FeatureFlags/hook.ts"),b=n("./app/org-admin/foundation/Tracking/hooks/useTracking.ts");const S=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OrganizationOverview"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesLastUpdatedAt"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Organization"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Organization"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"defaultCurrency"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"currencies"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRange"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"previousSalesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1032,"source":{"body":"query OrganizationOverview($presentmentCurrency:CurrencyCode!,$utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$preset:TimeFramePreset,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null,$isRange:Boolean = false){salesLastUpdatedAt organization{...Organization __typename}}fragment Organization on Organization{defaultCurrency{currencyCode currencyName __typename}currencies{currencyCode currencyName __typename}id name shopsCount salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset})@skip(if:$isRange){ordersTotal ordersTrend salesTotal{currencyCode value __typename}salesTrend __typename}salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency)@include(if:$isRange){ordersTotal ordersTrend salesTotal{currencyCode value __typename}previousSalesTotal{currencyCode value __typename}salesTrend __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"2fadc97ffb95515516838cd03e85bfa99f5861039dd6ccc942681e32914ae6db"}');var F=n("./app/org-admin/sections/Home/components/OverviewProvider/OverviewProvider.tsx");function D(){return(0,f.useContext)(F.nR)}var x=n("./app/org-admin/foundation/PlusExperience/hook.ts"),C=n("./app/org-admin/foundation/Monorail/hook.ts");function _(){const{userUuid:e,orgId:a,apps:n,employeeUuid:i,testOrganization:t}=(0,x.F)(),{produce:r}=(0,C.K)(),s={organizationId:a,identityUuid:e,orgPermittedApps:Object.keys(n).sort().join(","),isEmployee:""!==i,isTestOrg:t};return{orgCardClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_click/3.0"}),orgCardCurrencyChangeEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_currency_change/4.0"}),orgCardHoverEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_org_card_hover/3.0"}),paginationClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_pagination_click/2.0"}),searchFocusEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_search_focus/2.0"}),storeCardClickEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_store_card_click/3.0"}),storeCardHoverEvent:e=>r({payload:{...s,...e},schemaId:"plus_overview_store_card_hover/3.0"}),timeFrameClickEvent:e=>{r({payload:{...s,...e},schemaId:"plus_overview_time_frame_click/2.1"})},overviewPageViewEvent:e=>{r({payload:{...s,...e},schemaId:"plus_overview_page_view/1.0"})}}}var T=n("./node_modules/@shopify/condense-number/dist/index.m.js"),O=n("./app/types/graphql/plus-home-types/TimeFramePreset.ts"),j=n("./app/types/graphql/plus-home-types/SpanUnit.ts"),w=n("./app/org-admin/utilities/hashCode.ts"),R=n("./app/org-admin/sections/Home/types/index.ts");const V=(e,a=0)=>{const n=new Date(e.getTime());return n.setUTCMinutes(n.getUTCMinutes()+a+(new Date).getTimezoneOffset()),n},$=({lowerBound:e,upperBound:a,yearDifferential:n})=>{const i=e.toLocaleString("default",{month:"short"}),t=a.toLocaleString("default",{month:"short"});let r="",s="";if(n){const n=e.getFullYear(),i=a.getFullYear();n===i||(r=`, ${n}`),s=`, ${i}`}return i===t&&e.getFullYear()===a.getFullYear()&&e.getDate()===a.getDate()?`${t} ${a.getDate()}${s}`:`${i} ${e.getDate()}${r}-${t} ${a.getDate()}${s}`},M=({pastDateLowerBound:e,pastDateUpperBound:a,currentDateLowerBound:n,currentDateUpperBound:i})=>{const t=e.getFullYear()!==n.getFullYear()||a.getFullYear()!==i.getFullYear();return{pastRange:$({lowerBound:e,upperBound:a,yearDifferential:t}),todayRange:$({lowerBound:n,upperBound:i,yearDifferential:t})}},P=({nodeEnv:e,orgId:a,userUuid:n})=>"development"===e?`overview-default-currency-${a}-${n}`:`${(0,w.Z)(`overview-default-currency-${a}`)}-${(0,w.Z)(`overview-default-currency-${n}`)}`,A=(e,a,n)=>{const i=(0,T.l)(a,e.locale,{maxPrecision:1,roundingRule:"auto"}),t=L(e,n);return""!==t?`${t}${i} ${n}`:`${n} ${i}`},L=(e,a)=>{var n;if(!a)return"";const i=e.getCurrencySymbol(a),[t]=null!==(n=i.symbol.match(/(^A\$$)|[$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/))&&void 0!==n?n:[""];return t},B=(e,a)=>Math.abs(Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)),z=(e,a)=>{const n=new Date(e.getTime());return n.setDate(n.getDate()-a),n},U=e=>e instanceof Date&&!isNaN(e.getTime()),E=(e,a)=>{const n=new Date(e.getTime());return a.count?(a.unit===j.E.Days?n.setDate(n.getDate()-a.count):a.unit===j.E.Hours&&n.setHours(n.getHours()-a.count),n):n},I=e=>String(e).padStart(2,"0"),q=e=>`${e.getFullYear()}-${I(e.getMonth()+1)}-${I(e.getDate())}`,H=e=>{const a={from:"",to:""},n={from:"",to:""};return e.type!==R.d.Custom&&e.type!==R.d.Fixed||(a.from=q(e.from),a.to=q(e.to),n.from=q(e.compareFrom),n.to=q(e.compareTo)),{requestedDateRange:a,comparisonDateRange:n}},Q=(e,a)=>a.filter((e=>e.requestedFixedStart)).find((a=>{var n,i,t,r,s,d,o,l;return(null===(n=a.requestedFixedStart)||void 0===n?void 0:n.getTime())===(null===(i=e.from)||void 0===i?void 0:i.getTime())&&(null===(t=a.requestedFixedEnd)||void 0===t?void 0:t.getTime())===(null===(r=e.to)||void 0===r?void 0:r.getTime())&&(null===(s=a.comparedFixedStart)||void 0===s?void 0:s.getTime())===(null===(d=e.compareFrom)||void 0===d?void 0:d.getTime())&&(null===(o=a.comparedFixedEnd)||void 0===o?void 0:o.getTime())===(null===(l=e.compareTo)||void 0===l?void 0:l.getTime())})),Y=({timeFrame:e,timeFrameOptions:a,preset:n})=>{if(n)return n;if(e.type===R.d.Span)return`${e.unit} - ${e.count}`;if(e.type===R.d.Custom){const a=B(e.compareFrom,e.compareTo);return 0===a?`${j.E.Hours} - 24 (Flexible)`:`${j.E.Days} - ${a+1} (Flexible)`}var i;return e.type===R.d.Fixed&&(null===(i=Q(e,a))||void 0===i?void 0:i.label)||""},G=[{label:"Today",range:{count:24,unit:j.E.Hours},preset:O.d.Today,type:R.d.Preset,translationKey:"TimeFrameOptions.today"},{label:"24 hours",range:{count:24,unit:j.E.Hours},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.24hours"},{label:"7 days",range:{count:7,unit:j.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.7days"},{label:"28 days",range:{count:28,unit:j.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.28days"},{label:"90 days",range:{count:90,unit:j.E.Days},preset:void 0,type:R.d.Span,translationKey:"TimeFrameOptions.90days"},{label:"Custom",range:{count:3,unit:j.E.Days},preset:void 0,type:R.d.Custom,translationKey:"TimeFrameOptions.custom"}],J=12e4;var Z=n("./node_modules/@shopify/polaris/build/esnext/components/Pagination/Pagination.esnext"),W=n("./node_modules/use-debounce/esm/useDebounce.js"),K=n("./node_modules/react-router-dom-v6/node_modules/react-router/dist/index.js"),X=n("./node_modules/qs/lib/index.js"),ee=n.n(X);function ae(e,a=!0){const n="?"===e.charAt(0)?e.substr(1):e,i=ee().parse(n);return a&&Object.keys(i).forEach((e=>{""===i[e]&&delete i[e]})),i}function ne(e){const a=e&&Object.keys(e).reduce(((a,n)=>{const i=e[n];return null==i?a:{...a,[n]:i}}),{});return ee().stringify(a)}function ie(e,a){return function(e,a,n){const i=(0,K.s0)(),t=null!=n?n:i,r=(0,f.useCallback)((n=>{if(e){const i=e=>{const a={...ae(location.search),before:null,after:null,...e};t({pathname:location.pathname,search:ne(a)})},r=e.edges;"previous"===n?i({before:r[0].cursor}):"next"===n&&i({after:r[r.length-1].cursor}),null!=a&&a.current&&null!==a.current&&a.current.scrollIntoView()}}),[a,e,t]),s=(0,f.useCallback)((()=>r("previous")),[r]),d=(0,f.useCallback)((()=>r("next")),[r]);if(!e||!e.edges)return{hasPrevious:void 0,onPrevious:void 0,hasNext:void 0,onNext:void 0};const{hasNextPage:o,hasPreviousPage:l}=null==e?void 0:e.pageInfo;return 0===e.edges.length?{hasPrevious:o,onPrevious:void 0,hasNext:l,onNext:void 0}:{hasPrevious:l,onPrevious:s,hasNext:o,onNext:d}}(e,a,(0,K.s0)())}const te=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopList"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"before"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"last"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"query"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsCount"},"arguments":[],"directives":[]},{"kind":"FragmentSpread","name":{"kind":"Name","value":"ShopList"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ShopList"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shops"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"before"},"value":{"kind":"Variable","name":{"kind":"Name","value":"before"}}},{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"last"},"value":{"kind":"Variable","name":{"kind":"Name","value":"last"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"query"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"endCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasPreviousPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"startCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"cursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currency"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rankByGmv"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneAbbreviation"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1443,"source":{"body":"query ShopList($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$after:String,$before:String,$first:Int,$last:Int,$query:String,$preset:TimeFramePreset,$isRangeQuery:Boolean!,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null){organization{id shopsCount...ShopList __typename}}fragment ShopList on Organization{shops(after:$after,before:$before,first:$first,last:$last,query:$query){pageInfo{endCursor hasNextPage hasPreviousPage startCursor __typename}edges{cursor node{id name currency shopifyId shopifyDomain rankByGmv timezoneOffsetMinutes timezoneAbbreviation salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset})@skip(if:$isRangeQuery){averageOrderValue{...MoneyBag __typename}averageOrderValueTrend ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend __typename}salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency)@include(if:$isRangeQuery){salesTotal{...MoneyBag __typename}salesTrend ordersTotal ordersTrend averageOrderValue{...MoneyBag __typename}averageOrderValueTrend __typename}__typename}__typename}__typename}__typename}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"370a9fb79b96b869af44892f1d89fe15e68baadb0552d6accfadf5168442f5f6"}'),re=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopSessionsSummary"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"query"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}},"defaultValue":{"kind":"NullValue"},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"Argument","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"FragmentSpread","name":{"kind":"Name","value":"ShopSessions"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ShopSessions"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shops"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"query"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"endCursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"sessionsSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"skip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sessionsTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"sessionsSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"isRangeQuery"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sessionsTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sessionsTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"conversionRateTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1059,"source":{"body":"query ShopSessionsSummary($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$after:String,$first:Int,$query:String,$preset:TimeFramePreset,$isRangeQuery:Boolean!,$requestedDateRange:DateRangeInput = null,$comparisonDateRange:DateRangeInput = null){organization(utcOffset:$utcOffset spanCount:$spanCount spanUnit:$spanUnit presentmentCurrency:$presentmentCurrency preset:$preset){id...ShopSessions __typename}}fragment ShopSessions on Organization{id shops(first:$first,after:$after,query:$query){pageInfo{hasNextPage endCursor __typename}edges{node{id sessionsSummary(sessionsSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,preset:$preset})@skip(if:$isRangeQuery){sessionsTotal sessionsTrend conversionRateTotal conversionRateTrend __typename}sessionsSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange)@include(if:$isRangeQuery){sessionsTotal sessionsTrend conversionRateTotal conversionRateTrend __typename}__typename}__typename}__typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"0d09148feb390b233415eb832d693f05983cb40aca93f15916a86d5531c68cbd"}');let se=function(e){return e.Query="query",e.Before="before",e.After="after",e}({});const de=(e,a)=>"UPDATE"===a.type?{...e,...a.payload}:e,oe={[se.Query]:"",[se.Before]:"",[se.After]:""};function le(){const e=(0,K.TH)(),a=(0,K.s0)(),[n,i]=(0,f.useReducer)(de,(t=oe,r=e.search,[...new URLSearchParams(r).entries()].reduce(((e,a)=>{const[n,i]=a;return{...e,[n]:i}}),t)));var t,r;return[n,n=>{i({type:"UPDATE",payload:n});const t=new URLSearchParams(e.search);Object.entries(n).forEach((([e,a])=>{"string"==typeof a&&(""===a?t.delete(e):t.set(e,a))})),a({search:t.toString()})}]}var me=function(e){return e.Before="before",e.After="after",e}(me||{});const ue=JSON.parse('{"Search":{"searchPlaceholder":"Search for a store"}}'),ce={[Symbol.for("i18n-id")]:"Search_lexnfn",en:ue};var ve=n("./node_modules/@shopify/polaris/build/esnext/components/TextField/TextField.esnext"),pe=n("./node_modules/@shopify/polaris/build/esnext/components/Icon/Icon.esnext"),ke=n("./node_modules/@shopify/polaris-icons/dist/icons/SearchMajor.svg.mjs");const ge="YhY1f",ye="KTQAC";function fe({queryValue:e,onQueryValueChange:a,onSearchFocus:n}){const[i]=(0,r.Q)({id:"Search_1p9t15x",fallback:Object.values(ce)[0],translations:e=>Promise.resolve(ce[e])});return(0,p.jsx)("div",{className:ye,children:(0,p.jsx)(ve.n,{autoComplete:"off",label:"",prefix:(0,p.jsx)("div",{className:ge,children:(0,p.jsx)(pe.J,{source:ke.S})}),placeholder:i.translate("Search.searchPlaceholder"),value:e,onChange:a,clearButton:!0,onClearButtonClick:()=>{a("")},onFocus:n})})}const he=JSON.parse('{"StoreOverview":{"DashboardLink":"View dashboard","DashboardLinkAccessibilityLabel":"View the dashboard for {shopName}","TotalSales":"Total sales","TotalSalesAccessibilityLabel":"View the total sales report for {shopName}","TotalOrders":"Total orders","TotalOrdersAccessibilityLabel":"View the total orders report for {shopName}","ConversionRate":"Conversion rate","ConversionRateAccessibilityLabel":"View the conversion rate report for {shopName}","Sessions":"Sessions","SessionsAccessibilityLabel":"View the sessions rate report for {shopName}","AverageOrderValue":"Average order value","AverageOrderValueAccessibilityLabel":"View the average order value report for {shopName}"}}'),Ne={[Symbol.for("i18n-id")]:"StoreOverview_1bxtr3l",en:he};var be=n("./node_modules/@shopify/polaris/build/esnext/components/Spinner/Spinner.esnext"),Se=n("./node_modules/@shopify/polaris/build/esnext/components/Link/Link.esnext"),Fe=n("./node_modules/@shopify/polaris/build/esnext/components/LegacyCard/LegacyCard.esnext"),De=n("./node_modules/@shopify/polaris/build/esnext/components/Text/Text.esnext");const xe=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopGraphDataPoints"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ShopID"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"Argument","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsRequested"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsPrevious"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":461,"source":{"body":"query ShopGraphDataPoints($id:ShopID!,$utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$preset:TimeFramePreset){organization(utcOffset:$utcOffset spanCount:$spanCount spanUnit:$spanUnit preset:$preset){id shop(id:$id){id graphDataPointsRequested{salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}graphDataPointsPrevious{salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}__typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"61e346318b92df6ecce8c5ae18da7ac88b03543328881b96df3a20fcec726be3"}'),Ce=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShopDataPointsForRanges"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ShopID"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"ranges"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"graphDataPointsForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"ranges"},"value":{"kind":"Variable","name":{"kind":"Name","value":"ranges"}}},{"kind":"Argument","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"timestamp"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":299,"source":{"body":"query ShopDataPointsForRanges($id:ShopID!,$spanUnit:SpanUnit!,$ranges:[DateRangeInput!]!){organization{id shop(id:$id){id shopifyId graphDataPointsForRanges(ranges:$ranges,spanUnit:$spanUnit){salesTotal{value currencyCode __typename}timestamp timezoneOffsetMinutes __typename}__typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"13a2f8fdd3a5ff787cf100f513b9f317e826a445ead29113eb4c9a4b5f61a49f"}');function _e(e){try{return new URL(e).hostname}catch(a){return e}}var Te=n("./app/org-admin/components/WithOrgData/WithOrgData.tsx");const Oe=JSON.parse('{"Trend":{"increaseAccessibilityHint":"Increase of {change}","decreaseAccessibilityHint":"Decrease of {change}","noChangeAccessibilityHint":"No change"}}'),je={[Symbol.for("i18n-id")]:"Trend_b7g3es",en:Oe};var we=n("./node_modules/@shopify/polaris-icons/dist/icons/ArrowUpMinor.svg.mjs"),Re=n("./node_modules/@shopify/polaris-icons/dist/icons/ArrowDownMinor.svg.mjs"),Ve=n("./node_modules/classnames/index.js"),$e=n.n(Ve);let Me=function(e){return e.Neutral="neutral",e.Positive="positive",e.Negative="negative",e}({});const Pe="dl1lo",Ae="lRpRQ",Le="NCGib",Be="PlXaL",ze="o9Zc6",Ue="gLZRD",Ee=({trend:e,small:a,percentColourOnly:n=!1})=>{const[i]=(0,r.Q)({id:"Trend_10vwnyd",fallback:Object.values(je)[0],translations:e=>Promise.resolve(je[e])});if(null==e)return null;const t=i.formatPercentage(e),s=i.formatPercentage(Math.abs(e)),d=(e=>0===e?Me.Neutral:e>0?Me.Positive:Me.Negative)(parseFloat(t)),o={[Ae]:d===Me.Positive,[Le]:d===Me.Negative,[Be]:d!==Me.Positive&&d!==Me.Negative},l=$e()(Pe,{...n?{}:o}),m=$e()({[Ue]:a,[ze]:!a,...n?o:{}});let u,c;return d===Me.Positive?(u=(0,p.jsx)(we.S,{className:m}),c=i.translate("Trend.increaseAccessibilityHint",{change:s})):d===Me.Negative?(u=(0,p.jsx)(Re.S,{className:m}),c=i.translate("Trend.decreaseAccessibilityHint",{change:s})):d===Me.Neutral&&(u=null,c=i.translate("Trend.noChangeAccessibilityHint")),(0,p.jsxs)("div",{className:l,children:[u,(0,p.jsx)(De.x,{variant:"bodySm",as:"span",visuallyHidden:!0,children:c}),(0,p.jsx)("span",{"aria-hidden":"true",children:s})]})},Ie="mORdM",qe="eHuOx",He="vJkrM",Qe="j1McE",Ye="L4psg",Ge="x_5NC",Je="BC_n0",Ze="padV0",We="gvhK6",Ke=({loading:e=!1,title:a,totalData:{total:n,trend:i},spaceBetween:t=!1,small:r=!1,noFocus:s=!1,id:d})=>{const o=(0,f.useId)(),l=null!=d?d:o;if(e)return(0,p.jsx)("div",{className:Ie,children:(0,p.jsx)(be.$,{})});const m=$e()(He,t&&Je,r&&Qe),u=$e()(Ze,s&&We),c=$e()(r?Ge:Ye);return(0,p.jsxs)("div",{id:l,className:qe,children:[(0,p.jsx)("span",{className:u,children:a}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("div",{className:c,children:n}),(0,p.jsx)(Ee,{trend:i,small:r})]})]})},Xe=({current:e,previous:a,spanUnit:n,spanCount:i})=>{const t=(null!=a?a:[]).reverse().map((e=>{const a=V(new Date(((e,a,n)=>{const i=new Date(e);switch(a){case j.E.Hours:return i.setUTCHours(i.getUTCHours()+n);case j.E.Days:return i.setUTCDate(i.getUTCDate()+n);case j.E.Months:return i.setUTCMonth(i.getUTCMonth()+28*n);default:throw new Error(`Unknown SpanUnit, ${a}`)}})(e.timestamp,n,i)),e.timezoneOffsetMinutes);return[a.getTime(),parseFloat(e.salesTotal.value)]}));return{currentSeriesData:(null!=e?e:[]).reverse().map((e=>[V(new Date(e.timestamp),e.timezoneOffsetMinutes).getTime(),parseFloat(e.salesTotal.value)])),previousSeriesData:t}},ea=JSON.parse('{"Tooltip":{"convertedTotal":"Converted total: {convertedTotal}","conversionRate":"Rate"}}'),aa={[Symbol.for("i18n-id")]:"CurrencyTooltip_eq2z9b",en:ea};var na=n("./node_modules/@shopify/polaris/build/esnext/components/Popover/Popover.esnext");const ia="TzGV4",ta=({children:e,tooltipText:a})=>{const[n,i]=(0,f.useState)(!1),t=()=>{n||i(!0)},r=()=>{n&&i(!1)},s=(0,p.jsx)("span",{className:ia,onMouseOver:t,onMouseLeave:r,onFocus:t,onBlur:r,children:a});return(0,p.jsx)(na.J,{preferredAlignment:"left",preferredPosition:"above",active:n,activator:s,onClose:r,children:(0,p.jsx)("span",{onMouseOver:t,onMouseLeave:r,onFocus:t,onBlur:r,children:e})})},ra="N6H9B";function sa({presentment:e,shop:a,conversionRate:n,onHover:i}){const[t]=(0,r.Q)({id:"CurrencyTooltip_lzq4p1",fallback:Object.values(aa)[0],translations:e=>Promise.resolve(aa[e])}),s=({value:e,currencyCode:a})=>{if(!e||!a)return"--";const n=Number.parseInt(e,10),i=0===n?0:n;return t.formatCurrency(i,{currency:a,minimumFractionDigits:0,form:"explicit"})},d=t.formatNumber(1*parseFloat(n),{minimumFractionDigits:1,precision:5}),o=`${t.translate("Tooltip.conversionRate")}: 1 ${a.currencyCode} = ${d} ${e.currencyCode}`;return"1.0"===n?(0,p.jsx)(p.Fragment,{children:s(a)}):(0,p.jsx)("div",{onMouseEnter:i,children:(0,p.jsx)(ta,{tooltipText:s(a),children:(0,p.jsxs)("div",{className:ra,children:[(0,p.jsx)("div",{children:t.translate("Tooltip.convertedTotal",{convertedTotal:s(e)})}),(0,p.jsx)("div",{className:"ConversionRate",children:o})]})})})}var da=n("./node_modules/highcharts/highcharts.js"),oa=n.n(da),la=n("./node_modules/highcharts/modules/accessibility.js"),ma=n.n(la),ua=n("./node_modules/highcharts-react-official/dist/highcharts-react.min.js"),ca=n.n(ua),va=n("./app/utilities/highcharts.ts");const pa={color:"#637381"};var ka=n("./node_modules/@shopify/react-i18n/build/esnext/constants/index.esnext");function ga(e=j.E.Hours){switch(e){case j.E.Hours:return{hour12:!0,hour:"2-digit"};case j.E.Days:return{month:"short",day:"numeric"};case j.E.Months:return{month:"short"};default:throw new Error(`Unexpected over period: ${e}`)}}function ya(e){const a=Math.abs(Math.trunc(e)),n=10**Math.floor(Math.log10(a));let i=n;for(;i<a;)i+=n;return e<0?-1*i:i}const fa=(e,a)=>function(){const n=Na(e,this.value,ga(a));if(a===j.E.Hours){return 0===new Date(this.value).getHours()?Na(e,this.value,ga(j.E.Days)):n.replace(/ /g,"").toLowerCase()}return n};function ha(e,a){return function(){return A(e,Number(this.value),a)}}function Na(e,a,n){const i=new Date(a);return e.formatDate(i,n)}const ba=864e5,Sa=36e5;function Fa(e,{previousSeriesName:a,currencyCode:n,interval:i,count:t}){return function(r){const s=function(e,{points:a,interval:n,count:i,previousSeriesName:t,currencyCode:r}){const s=i/(n===j.E.Hours?24:1),d=a.map((a=>{const n=a.series.name===t?a.x-ba*s:a.x;return`<span style="color:${a.color}">●</span> ${Na(e,n,{style:ka.Dn.Short})}: <b>${function(e,a,n){return e.formatCurrency(a,{currency:n,minimumFractionDigits:0,form:"explicit"})}(e,a.y,r)}</b><br/>`}));return d.join("")}(e,{points:this.points,interval:i,count:t,previousSeriesName:a,currencyCode:n}),d=function(e,a,n){if(n===j.E.Hours)return`<div>${Na(e,a[0].x,{style:ka.Dn.Time})} - ${Na(e,a[0].x+Sa,{style:ka.Dn.Time})}</div>`;return j.E.Days,""}(e,this.points,i);return`${d}${s}`}}function Da(){const e=this.getExtremes().dataMin,a=this.getExtremes().dataMax,n=Math.abs(e)<=1?e<0?-1:0:ya(e);const i=Math.abs(a)<=1?function(e){return e>0?1:0}(a):ya(a);return n>0&&i>0?[0,i]:n<0&&i<0?[n,0]:0===n&&0===i?[0]:Math.abs(i)>=0&&Math.abs(i)<1||Math.abs(n)>=0&&Math.abs(n)<1||Number(i)/(i+Math.abs(n))<.3||Number(Math.abs(n))/(i+Math.abs(n))<.3?[n,i]:[n,0,i]}const xa="weDmS";va.m&&ma()(oa());const Ca=({currencyCode:e,currentSeries:a,height:n=160,interval:i=j.E.Hours,count:t,loading:s,previousSeries:d})=>{const[o]=(0,r.Q)();if(s)return(0,p.jsx)("div",{className:xa,style:{height:n},children:(0,p.jsx)(be.$,{})});const l=(({currentSeries:e,previousSeries:a,height:n,tooltipFormatter:i,xAxisLabels:t,yAxisLabels:r,tickPositioner:s})=>({series:[e,a],chart:{height:n,showAxes:!0,spacing:[8,8,8,8],style:{fontFamily:"inherit"}},legend:{enabled:!0,align:"left",itemStyle:{fontWeight:"normal"}},title:{text:void 0},time:{timezoneOffset:Number((new Date).getTimezoneOffset())},plotOptions:{series:{lineWidth:3,marker:{enabled:!1,symbol:"circle",radius:2},states:{hover:{enabled:!0,halo:null,lineWidthPlus:0}},events:{legendItemClick:()=>!1}}},tooltip:{backgroundColor:"#FFF",borderRadius:5,shadow:{color:"black",offsetX:0,offsetY:3,opacity:.02,width:10},padding:10,useHTML:!0,shared:!0,hideDelay:50,formatter:i,xDateFormat:"%l:%M %p - %b %e, %Y",dateTimeLabelFormats:{hour:"hour",day:"day",month:"month",week:"week",year:"year"}},xAxis:{lineColor:"transparent",type:"datetime",tickLength:5,gridLineWidth:1,minorTickLength:2,gridLineDashStyle:"Dash",dateTimeLabelFormats:{hour:"hour",day:"day",month:"month",week:"week",year:"year"},crosshair:{width:5,color:"rgba(204, 204, 204, 0.5)"},labels:{style:pa,formatter:t}},yAxis:{title:{text:void 0},gridLineWidth:0,minorGridLineWidth:0,labels:{style:pa,formatter:r},plotLines:[{value:0,width:1,color:"#ccd6eb"}],tickPositioner:s},credits:{enabled:!1}}))({currentSeries:a,previousSeries:d,height:n,currencyCode:e,tooltipFormatter:Fa(o,{previousSeriesName:null==d?void 0:d.name,currencyCode:e,interval:i,count:t}),xAxisLabels:fa(o,i),yAxisLabels:ha(o,e),tickPositioner:Da});return(0,p.jsx)(ca(),{highcharts:oa(),options:l})},_a=(0,f.memo)(Ca),Ta="S3zu6",Oa="mt9T_",ja="vbvA6",wa="M0WT4",Ra="BhRy3",Va="L1ufV",$a="Svgn0",Ma="YhVD6",Pa="MmleH",Aa="KdMtO",La=({storeCount:e,store:a,isMultiStoreOrganization:n,loading:i=!1,isSearchResult:t,sessionsData:s,sessionsDataLoading:d})=>{var o,l,m;const[u]=(0,r.Q)({id:"StoreOverview_1tp29ad",fallback:Object.values(Ne)[0],translations:e=>Promise.resolve(Ne[e])}),c=(0,N.S)("overview_polling"),{overviewState:v}=D(),{maxStoresPerPage:k,storeSortOrder:g,timeFrame:y,preset:b}=v,{storeCardClickEvent:S,storeCardHoverEvent:F}=_(),{scopedAdmin:{orgStores:x}}=(0,Te.a)(),C=x.find((e=>e.shopifyShopId===a.shopifyId)),T=(null==C||null===(o=C.identificationSettings)||void 0===o?void 0:o.internalName)||a.name,j=y.type===R.d.Custom||y.type===R.d.Fixed,w=a.timezoneOffsetMinutes,$=(0,h.Z)(xe,{variables:{preset:b,id:a.id,spanCount:y.count,spanUnit:y.unit,utcOffset:w},fetchPolicy:"no-cache",skip:j,pollInterval:c?J:void 0}),{from:P,to:A,compareFrom:L,compareTo:B}=y,z=[];j&&(z.push({from:q(P),to:q(A)}),z.push({from:q(L),to:q(B)}));const U=(0,h.Z)(Ce,{variables:{id:a.id,spanUnit:y.unit,ranges:z},fetchPolicy:"no-cache",skip:!j,pollInterval:c?J:void 0}),E=($.loading||U.loading)&&!$.data&&!U.data,I=e>k,H=(0,f.useCallback)((n=>F({element:n,shopId:Number(a.shopifyId),prodStoreAccessCount:e,isSearchVisible:I,maxStoresPerPage:k,storeSortOrder:g,isSearchResult:t,storeRankOverall:a.rankByGmv,timeFrame:Y({timeFrame:y,preset:b,timeFrameOptions:G})})),[a.shopifyId,e,a.rankByGmv,t,g,k,I,b,y]),Q=(0,f.useCallback)((n=>S({element:n,shopId:Number(a.shopifyId),prodStoreAccessCount:e,isSearchVisible:I,maxStoresPerPage:k,storeSortOrder:g,isSearchResult:t,storeRankOverall:a.rankByGmv,timeFrame:Y({timeFrame:y,preset:b,timeFrameOptions:G})})),[a.shopifyId,e,a.rankByGmv,t,g,k,I,b,y]),{currentSeries:Z,previousSeries:W}=(0,f.useMemo)((()=>{var e,n,i,t,r,s,d,o,l,m,u,c;const v=j?null==U||null===(e=U.data)||void 0===e||null===(n=e.organization)||void 0===n||null===(i=n.shop)||void 0===i?void 0:i.graphDataPointsForRanges[0]:null==$||null===(t=$.data)||void 0===t||null===(r=t.organization)||void 0===r||null===(s=r.shop)||void 0===s?void 0:s.graphDataPointsRequested,p=j?null==U||null===(d=U.data)||void 0===d||null===(o=d.organization)||void 0===o||null===(l=o.shop)||void 0===l?void 0:l.graphDataPointsForRanges[1]:null==$||null===(m=$.data)||void 0===m||null===(u=m.organization)||void 0===u||null===(c=u.shop)||void 0===c?void 0:c.graphDataPointsPrevious,{todayRange:k,pastRange:g}=(({timeFrame:e,preset:a,current:n,previous:i,utcOffset:t,timezoneAbbreviation:r})=>{var s,d,o,l;let m=null!==(s=e.from)&&void 0!==s?s:new Date,u=null!==(d=e.to)&&void 0!==d?d:new Date,c=null!==(o=e.compareFrom)&&void 0!==o?o:new Date,v=null!==(l=e.compareTo)&&void 0!==l?l:new Date;null!=n&&n.length&&(m=new Date(n[n.length-1].timestamp),u=new Date(n[0].timestamp),void 0!==t&&(m=V(m,t),u=V(u,t))),null!=i&&i.length&&(c=new Date(i[i.length-1].timestamp),v=new Date(i[0].timestamp),void 0!==t&&(c=V(c,t),v=V(v,t)));let p={todayRange:"",pastRange:""};p=a===O.d.Today?((e,a)=>{const n=e.toLocaleString("default",{month:"long"}),i=e.toLocaleString("default",{month:"long"}),t=e.getFullYear()===a.getFullYear(),r=t?"":`, ${e.getFullYear()}`,s=t?"":`, ${a.getFullYear()}`;return{todayRange:`${n} ${e.getDate()}${r}`,pastRange:`${i} ${a.getDate()}${s}`}})(m,c):M({pastDateLowerBound:c,pastDateUpperBound:v,currentDateLowerBound:m,currentDateUpperBound:u});const{todayRange:k,pastRange:g}=p;return{todayRange:`${k} ${void 0===t?"":r}`,pastRange:`${g} ${void 0===t?"":r}`}})({timeFrame:y,preset:b,current:v,previous:p,utcOffset:w,timezoneAbbreviation:a.timezoneAbbreviation}),{currentSeriesData:f,previousSeriesData:h}=Xe({current:v,previous:p,spanUnit:y.unit,spanCount:y.count});return{currentSeries:{type:"line",data:f,name:k,color:"#5C6AC4",showInLegend:Boolean(f.length)},previousSeries:{type:"line",data:h,name:g,color:"#919EAB",dashStyle:"ShortDot",showInLegend:Boolean(h.length)}}}),[j,null==U?void 0:U.data,null==$?void 0:$.data,y,w]),K=a.timezoneOffsetMinutes>=0?"+":"",X=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:Aa,"aria-hidden":"true"}),(0,p.jsxs)("time",{children:[a.timezoneAbbreviation," (UTC",K,a.timezoneOffsetMinutes/60,")"]})]}),ee=a.salesSummaryForRanges?a.salesSummaryForRanges:a.salesSummary,ae=d?(0,p.jsx)(be.$,{size:"small"}):null!==(l=u.formatNumber(null==s?void 0:s.sessionsTotal))&&void 0!==l?l:"-";let ne=(0,p.jsx)(be.$,{size:"small"});const ie=d?(0,p.jsx)(be.$,{size:"small"}):null!==(m=u.formatPercentage((null==s?void 0:s.conversionRateTotal)||0))&&void 0!==m?m:"-";let te=(0,p.jsx)(be.$,{size:"small"});d||(te=null!==(null==s?void 0:s.conversionRateTrend)&&void 0!==(null==s?void 0:s.conversionRateTrend)?(0,p.jsx)(Ee,{trend:null==s?void 0:s.conversionRateTrend,small:!0,percentColourOnly:!0},"conversionRateTrend"):(0,p.jsx)("span",{children:"-"}),ne=null!==(null==s?void 0:s.sessionsTrend)&&void 0!==(null==s?void 0:s.sessionsTrend)?(0,p.jsx)(Ee,{trend:null==s?void 0:s.sessionsTrend,small:!0,percentColourOnly:!0},"sessionsTrend"):(0,p.jsx)("span",{children:"-"}));const re=[[(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/reports/sessions_over_time`,onClick:()=>Q("sessions_link"),accessibilityLabel:u.translate("StoreOverview.SessionsAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.Sessions")},"sessionsLink"),ae,ne],[(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/reports/sales_over_time`,onClick:()=>Q("total_orders_link"),accessibilityLabel:u.translate("StoreOverview.TotalOrdersAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.TotalOrders")},"totalOrdersLink"),u.formatNumber(ee.ordersTotal),null===ee.ordersTrend||void 0===ee.ordersTrend?"-":(0,p.jsx)(Ee,{trend:ee.ordersTrend,small:!0,percentColourOnly:!0},"totalOrdersTrend")],[(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/reports/average_order_value`,onClick:()=>Q("average_order_value_link"),accessibilityLabel:u.translate("StoreOverview.AverageOrderValueAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.AverageOrderValue")},"averageOrderValueLink"),(0,p.jsx)(sa,{presentment:ee.averageOrderValue.presentment,shop:ee.averageOrderValue.shop,conversionRate:ee.averageOrderValue.conversionRate,onHover:()=>H("average_order_value")},"totalSalesValue"),null===ee.averageOrderValueTrend||void 0===ee.averageOrderValueTrend?"-":(0,p.jsx)(Ee,{trend:ee.averageOrderValueTrend,small:!0,percentColourOnly:!0},"totalSalesTrend")],[(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/reports/online_store_conversion`,onClick:()=>Q("conversion_link"),accessibilityLabel:u.translate("StoreOverview.ConversionRateAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.ConversionRate")},"conversionRateLink"),ie,te]];return(0,p.jsxs)(Fe.z,{sectioned:!0,children:[(0,p.jsxs)("header",{className:Ta,children:[(0,p.jsxs)("div",{className:Oa,children:[(0,p.jsx)("div",{className:ja,children:T}),(0,p.jsx)("div",{className:wa,children:(0,p.jsxs)(De.x,{variant:"bodyMd",as:"span",color:"subdued",children:[_e(a.shopifyDomain),void 0===w?"":X]})})]}),(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/dashboards`,onClick:()=>Q("dashboard_link"),accessibilityLabel:u.translate("StoreOverview.DashboardLinkAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.DashboardLink")})]}),(0,p.jsx)("section",{className:Ra,children:(0,p.jsx)(Ke,{title:(0,p.jsx)(Se.r,{url:`${a.shopifyDomain}/reports/sales_over_time`,onClick:()=>Q("total_sales_link"),accessibilityLabel:u.translate("StoreOverview.TotalSalesAccessibilityLabel",{shopName:T}),children:u.translate("StoreOverview.TotalSales")}),totalData:{total:(0,p.jsx)(sa,{presentment:ee.salesTotal.presentment,shop:ee.salesTotal.shop,conversionRate:ee.salesTotal.conversionRate,onHover:()=>H("total_sales")}),trend:ee.salesTrend},spaceBetween:n})}),(0,p.jsx)("div",{onMouseEnter:()=>H("graph"),children:(0,p.jsx)(_a,{currentSeries:Z,previousSeries:W,currencyCode:a.currency,height:n?160:300,interval:y.unit,count:y.count,loading:i||E})}),(0,p.jsx)("section",{className:Va,children:(0,p.jsx)("div",{className:$a,children:re.map(((e,a)=>(0,p.jsxs)(f.Fragment,{children:[(0,p.jsx)("span",{children:e[0]}),(0,p.jsx)("span",{className:Ma,children:e[1]}),(0,p.jsx)("span",{className:Pa,children:e[2]})]},a)))})})]})},Ba={Pagination:"F2m41",StoreOverview:"nssst",StoreList:"bf4sh",StoreListItem:"HLOGd",StoreListSingular:"YEBqb"};var za=n("./node_modules/@shopify/polaris/build/esnext/components/SkeletonDisplayText/SkeletonDisplayText.esnext"),Ua=n("./node_modules/@shopify/polaris/build/esnext/components/SkeletonBodyText/SkeletonBodyText.esnext");const Ea="mn1HA",Ia="CxA3Z",qa="x8GCx",Ha="ISpig",Qa=()=>{const e=(0,p.jsxs)("div",{className:Ea,children:[(0,p.jsx)(za.$,{}),(0,p.jsx)("br",{}),(0,p.jsx)(Ua.j,{lines:1})]});return(0,p.jsxs)(Fe.z,{sectioned:!0,title:e,children:[(0,p.jsx)("div",{className:Ia,children:(0,p.jsx)(za.$,{})}),(0,p.jsx)("div",{className:Ha}),(0,p.jsx)("div",{className:qa,children:(0,p.jsx)(Ua.j,{lines:2})})]})},Ya=()=>(0,p.jsxs)("div",{className:Ba.StoreList,children:[(0,p.jsx)("div",{className:Ba.StoreListItem,children:(0,p.jsx)(Qa,{})}),(0,p.jsx)("div",{className:Ba.StoreListItem,children:(0,p.jsx)(Qa,{})})]}),Ga=JSON.parse('{"NoResultStoreList":{"title":"The store you\'re looking for couldn\'t be found.","subtitle":"Check the spelling and try again."}}'),Ja={[Symbol.for("i18n-id")]:"NoResultStoreOverviewSearch_wnluph",en:Ga},Za="rBnM8",Wa=()=>{const[e]=(0,r.Q)({id:"NoResultStoreOverviewSearch_1uapafb",fallback:Object.values(Ja)[0],translations:e=>Promise.resolve(Ja[e])});return(0,p.jsxs)("div",{className:Za,children:[(0,p.jsx)(De.x,{variant:"headingMd",as:"h2",children:e.translate("NoResultStoreList.title")}),(0,p.jsx)(De.x,{variant:"bodyMd",as:"span",color:"subdued",children:e.translate("NoResultStoreList.subtitle")})]})},Ka=12e4,Xa=({presentmentCurrencyCode:e})=>{var a,n,i,t,r,s;const{paginationClickEvent:d,searchFocusEvent:o}=_(),l=(0,N.S)("overview_polling"),{overviewState:{timeFrame:m,preset:u}}=D(),[c,v]=le(),[k]=(0,W.Z)(c,300),g=k[se.Query],{before:y,after:b}=function(){const e=(0,K.TH)(),a=new URLSearchParams(e.search),n=a.get(me.After)||void 0;return{before:a.get(me.Before)||void 0,after:n}}(),S=m.type===R.d.Custom||m.type===R.d.Fixed,{requestedDateRange:F,comparisonDateRange:x}=H(m),C={presentmentCurrency:e,query:g,preset:u,spanCount:m.count,spanUnit:m.unit,utcOffset:-1*(new Date).getTimezoneOffset(),requestedDateRange:S?F:null,comparisonDateRange:S?x:null,isRangeQuery:S,after:b,before:y,first:y?void 0:6,last:y?6:void 0},{data:T,loading:O}=(0,h.Z)(te,{fetchPolicy:"no-cache",variables:C,pollInterval:l?Ka:void 0}),{data:j,loading:w}=(0,h.Z)(re,{fetchPolicy:"no-cache",variables:C,pollInterval:l?Ka:void 0}),V=(0,f.useMemo)((()=>{var e,a;const n=null==j||null===(e=j.organization)||void 0===e||null===(a=e.shops)||void 0===a?void 0:a.edges;return(null==n?void 0:n.reduce(((e,a)=>{var n,i;const t=null!=a&&null!==(n=a.node)&&void 0!==n&&n.sessionsSummary?a.node.sessionsSummary:null==a||null===(i=a.node)||void 0===i?void 0:i.sessionsSummaryForRanges;return e[a.node.id]=t,e}),{}))||{}}),[j,w]),$=null!==(a=null==T||null===(n=T.organization)||void 0===n?void 0:n.shopsCount)&&void 0!==a?a:0,M=[Ba.StoreListItem].concat(1===$?[Ba.StoreListSingular]:[]).join(" "),P=$>1,A=P&&$>6,L=null!==(i=null==T||null===(t=T.organization)||void 0===t||null===(r=t.shops)||void 0===r?void 0:r.edges)&&void 0!==i?i:[],B=!T&&O,z=(0,f.useRef)(null),{hasPrevious:U,onPrevious:E,hasNext:I,onNext:q}=ie(null==T||null===(s=T.organization)||void 0===s?void 0:s.shops,z),Q=(0,f.useCallback)((()=>{o({maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Y({timeFrame:m,preset:u,timeFrameOptions:G})})}),[$,u,m]),J=B?(0,p.jsx)(Ya,{}):(0,p.jsxs)("div",{className:Ba.StoreList,children:[A&&0===L.length&&(0,p.jsx)(Wa,{}),L.map((e=>{var a;return null!=e&&e.node?(0,p.jsx)("div",{className:M,children:(0,p.jsx)(La,{storeCount:(null==T||null===(a=T.organization)||void 0===a?void 0:a.shopsCount)||0,store:e.node,isMultiStoreOrganization:P,loading:B,isSearchResult:""!==c[se.Query],sessionsData:V[e.node.id],sessionsDataLoading:w})},e.cursor):null}))]});return(0,p.jsxs)("div",{ref:z,className:Ba.StoreOverview,children:[A&&(0,p.jsx)(fe,{queryValue:c[se.Query],onQueryValueChange:e=>v({[se.Query]:e,[se.Before]:"",[se.After]:""}),onSearchFocus:Q}),J,(U||I)&&(0,p.jsx)("div",{className:Ba.Pagination,children:(0,p.jsx)(Z.t,{hasPrevious:U,onPrevious:()=>{E&&E(),d({element:"previous",isSearchResult:""!==c[se.Query],maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Y({timeFrame:m,preset:u,timeFrameOptions:G})})},hasNext:I,onNext:()=>{q&&q(),d({element:"next",isSearchResult:""!==c[se.Query],maxStoresPerPage:6,prodStoreAccessCount:$,storeSortOrder:"descending gmv",timeFrame:Y({timeFrame:m,preset:u,timeFrameOptions:G})})}})})]})},en=JSON.parse('{"NoStoresOverview":{"MainHeader":"Your business at a glance","SubHeader":"See latest sales, orders and performance across all of your live stores.","LearnMoreButton":"Learn more"}}'),an={[Symbol.for("i18n-id")]:"NoStoresOverview_m4a9tv",en};var nn=n("./node_modules/@shopify/polaris/build/esnext/components/TextContainer/TextContainer.esnext"),tn=n("./node_modules/@shopify/polaris/build/esnext/components/Button/Button.esnext");function rn(){return(0,p.jsxs)("svg",{width:"440",height:"440",viewBox:"0 0 440 440",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("circle",{cx:"220",cy:"220",r:"125",fill:"white"}),(0,p.jsx)("clipPath",{id:"clip0",clipPathUnits:"userSpaceOnUse",x:"95",y:"95",width:"250",height:"250",children:(0,p.jsx)("circle",{cx:"220",cy:"220",r:"125",fill:"white"})}),(0,p.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,p.jsx)("path",{d:"M132.917 308.75L345 223.333",stroke:"#42474C",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"6 10"}),(0,p.jsx)("path",{d:"M112.917 296.667L160.384 254.429C161.389 253.535 162.866 253.419 163.998 254.146L188.717 270.01C189.523 270.527 190.528 270.628 191.422 270.282L236.897 252.641C237.799 252.291 238.814 252.397 239.623 252.926L278.155 278.106C279.441 278.946 281.153 278.679 282.123 277.489L346.25 198.75",stroke:"#108060",strokeWidth:"6"})]}),(0,p.jsx)("circle",{cx:"162.083",cy:"252.083",r:"5.41667",fill:"#108060"}),(0,p.jsx)("path",{d:"M283.167 201V245",stroke:"#42474C",strokeWidth:"2"}),(0,p.jsx)("g",{filter:"url(#filter0_d)",children:(0,p.jsx)("path",{d:"M248 163C248 161.343 249.343 160 251 160H312C313.657 160 315 161.343 315 163V199C315 200.657 313.657 202 312 202H251C249.343 202 248 200.657 248 199V163Z",fill:"white"})}),(0,p.jsx)("path",{d:"M262.5 174.167H300.833",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("circle",{cx:"283.167",cy:"247.667",r:"4.16667",fill:"#42474C"}),(0,p.jsx)("rect",{x:"261.667",y:"181",width:"28.3333",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("g",{filter:"url(#filter1_d)",children:(0,p.jsx)("path",{d:"M125 107C125 105.343 126.343 104 128 104H217C218.657 104 220 105.343 220 107V226C220 227.657 218.657 229 217 229H128C126.343 229 125 227.657 125 226V107Z",fill:"white"})}),(0,p.jsx)("g",{filter:"url(#filter2_d)",children:(0,p.jsx)("path",{d:"M114 116C114 114.343 115.343 113 117 113H207C208.657 113 210 114.343 210 116V236C210 237.657 208.657 239 207 239H117C115.343 239 114 237.657 114 236V116Z",fill:"white"})}),(0,p.jsx)("rect",{x:"125.833",y:"130.833",width:"23.3333",height:"23.3333",rx:"3",fill:"#108060"}),(0,p.jsx)("path",{d:"M159.167 134.167H193.333",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("rect",{x:"158.333",y:"215",width:"38.3333",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("rect",{x:"125.833",y:"168.333",width:"23.3333",height:"23.3333",rx:"3",fill:"#108060"}),(0,p.jsx)("path",{d:"M159.167 171.667H193.333",stroke:"#828A91",strokeWidth:"4",strokeLinecap:"round"}),(0,p.jsx)("rect",{x:"158.333",y:"181.667",width:"31.6667",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsx)("rect",{x:"158.333",y:"144.167",width:"31.6667",height:"10",rx:"2",fill:"#E8E9EB"}),(0,p.jsxs)("defs",{children:[(0,p.jsxs)("filter",{id:"filter0_d",x:"238",y:"152",width:"87",height:"62",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,p.jsxs)("filter",{id:"filter1_d",x:"120",y:"100",width:"105",height:"135",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,p.jsxs)("filter",{id:"filter2_d",x:"104",y:"105",width:"116",height:"146",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,p.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,p.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,p.jsx)("feOffset",{dy:"2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,p.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,p.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,p.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})]})]})}const sn="lwAtb",dn="SAfZ3",on="TH0_f",ln="C7PUv",mn="tXyoY",un=()=>{const[e]=(0,r.Q)({id:"NoStoresOverview_wp11r9",fallback:Object.values(an)[0],translations:e=>Promise.resolve(an[e])});return(0,p.jsxs)("div",{className:sn,children:[(0,p.jsxs)("div",{className:dn,children:[(0,p.jsxs)(nn.l,{children:[(0,p.jsx)(De.x,{variant:"heading4xl",as:"p",children:e.translate("NoStoresOverview.MainHeader")}),(0,p.jsx)("p",{className:on,children:(0,p.jsx)(De.x,{variant:"headingLg",as:"p",children:e.translate("NoStoresOverview.SubHeader")})})]}),(0,p.jsx)("div",{className:mn,children:(0,p.jsx)(tn.z,{primary:!0,url:"https://help.shopify.com/en/manual/shopify-plus/overview",children:e.translate("NoStoresOverview.LearnMoreButton")})})]}),(0,p.jsx)("div",{className:ln,children:(0,p.jsx)(rn,{})})]})},cn=JSON.parse('{"OrganizationOverview":{"Header":"All stores","TotalSales":{"Title":"Total sales","TooltipExplanation":"Gross sales (minus discounts and returns) plus taxes and shipping, across all stores during the specified time period. Total sales currency is converted (if applicable) using a daily average exchange rate.","TooltipSingleCurrencyExplanation":"Gross sales (minus discounts and returns) plus taxes and shipping, across all stores during the specified time period.","TooltipPrompt":"View all conversions"},"TotalOrders":{"Title":"Total orders","TooltipExplanation":"Total number of orders across all stores during the specified time period."}}}'),vn={[Symbol.for("i18n-id")]:"OrganizationOverview_1pevanp",en:cn};var pn=n("./node_modules/@shopify/polaris/build/esnext/components/Modal/Modal.esnext"),kn=n("./node_modules/@shopify/polaris/build/esnext/components/DataTable/DataTable.esnext");const gn=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SalesConversionList"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SpanUnit"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"preset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"TimeFramePreset"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentSpread","name":{"kind":"Name","value":"SalesConversionList"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"SalesConversionList"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Organization"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummary"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"salesSummaryInput"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"utcOffset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"utcOffset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanCount"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanCount"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"spanUnit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"spanUnit"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"preset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"preset"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":923,"source":{"body":"query SalesConversionList($utcOffset:Int,$spanCount:Int,$spanUnit:SpanUnit,$presentmentCurrency:CurrencyCode!,$preset:TimeFramePreset){organization{id salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset}){salesTotal{currencyCode value __typename}__typename}...SalesConversionList __typename}}fragment SalesConversionList on Organization{shopsUnpaginated{id name shopifyDomain salesSummary(salesSummaryInput:{utcOffset:$utcOffset,spanCount:$spanCount,spanUnit:$spanUnit,presentmentCurrency:$presentmentCurrency,preset:$preset}){ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend averageOrderValueTrend averageOrderValue{...MoneyBag __typename}__typename}__typename}__typename}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f57ca39642f9f8611d16d1908c794c2ece504b20fb1ae3235482b76c3ca9264c"}'),yn=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SalesConversionListRanges"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"CurrencyCode"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"DateRangeInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopifyDomain"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesSummaryForRanges"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requestedDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"requestedDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"comparisonDateRange"},"value":{"kind":"Variable","name":{"kind":"Name","value":"comparisonDateRange"}}},{"kind":"Argument","name":{"kind":"Name","value":"presentmentCurrency"},"value":{"kind":"Variable","name":{"kind":"Name","value":"presentmentCurrency"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ordersTotal"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ordersTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"salesTotal"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"salesTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValueTrend"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"averageOrderValue"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MoneyBag"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MoneyBag"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MoneyBag"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"conversionRate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"presentment"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":836,"source":{"body":"query SalesConversionListRanges($presentmentCurrency:CurrencyCode!,$requestedDateRange:DateRangeInput!,$comparisonDateRange:DateRangeInput!){organization{id salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency){salesTotal{currencyCode value __typename}__typename}shopsUnpaginated{id name shopifyDomain salesSummaryForRanges(requestedDateRange:$requestedDateRange comparisonDateRange:$comparisonDateRange presentmentCurrency:$presentmentCurrency){ordersTotal ordersTrend salesTotal{...MoneyBag __typename}salesTrend averageOrderValueTrend averageOrderValue{...MoneyBag __typename}__typename}__typename}__typename}}fragment MoneyBag on MoneyBag{conversionRate presentment{currencyCode value __typename}shop{currencyCode value __typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"9d53dd3254f950bc285180a2e0a2fd347c2238ab1b75532b21ca4737b02da627"}'),fn="a2Zup",hn=["Store","Total sales","Rate","Converted total"],Nn=["text","numeric","numeric","numeric"],bn=({open:e,handleClose:a,currency:n})=>{var i,t,s,d,o,l,m,u,c,v;const[k]=(0,r.Q)(),{overviewState:{timeFrame:g,preset:y}}=D(),f=(0,h.Z)(gn,{variables:{preset:y,spanCount:g.count,spanUnit:g.unit,utcOffset:-1*(new Date).getTimezoneOffset(),presentmentCurrency:n},fetchPolicy:"no-cache",skip:g.type===R.d.Custom}),{requestedDateRange:N,comparisonDateRange:b}=H(g),S=(0,h.Z)(yn,{variables:{requestedDateRange:N,comparisonDateRange:b,presentmentCurrency:n},fetchPolicy:"no-cache",skip:g.type!==R.d.Custom}),F=g.type===R.d.Custom?null==S||null===(i=S.data)||void 0===i||null===(t=i.organization)||void 0===t?void 0:t.salesSummaryForRanges:null==f||null===(s=f.data)||void 0===s||null===(d=s.organization)||void 0===d?void 0:d.salesSummary,x=f.loading||S.loading,C=(null!==(o=g.type===R.d.Custom?null==S||null===(l=S.data)||void 0===l||null===(m=l.organization)||void 0===m?void 0:m.shopsUnpaginated:null==f||null===(u=f.data)||void 0===u||null===(c=u.organization)||void 0===c?void 0:c.shopsUnpaginated)&&void 0!==o?o:[]).map((e=>{var a,n;const i=null==e?void 0:e.shopifyDomain,t=g.type===R.d.Custom?null==e?void 0:e.salesSummaryForRanges:null==e?void 0:e.salesSummary,r=k.formatNumber(parseFloat(t.salesTotal.conversionRate),{minimumFractionDigits:1,precision:5});return[i,k.formatCurrency(Number(t.salesTotal.shop.value),{currency:null!==(a=t.salesTotal.shop.currencyCode)&&void 0!==a?a:void 0}),r,k.formatCurrency(Number(t.salesTotal.presentment.value),{currency:null!==(n=t.salesTotal.presentment.currencyCode)&&void 0!==n?n:void 0})]})),_=F&&k.formatCurrency(Number(F.salesTotal.value),{currency:null!==(v=F.salesTotal.currencyCode)&&void 0!==v?v:void 0});return(0,p.jsx)(pn.u,{large:!0,open:e,onClose:a,title:"Total sales conversion details",primaryAction:{content:"Close",onAction:a},children:x?(0,p.jsx)("div",{className:fn,children:(0,p.jsx)(be.$,{})}):(0,p.jsx)(kn.w,{columnContentTypes:Nn,headings:hn,rows:C,totals:["","-","-",_],totalsName:{plural:"All stores",singular:"All stores"},defaultSortDirection:"none"})})},Sn="iQtrJ",Fn="VcIjD",Dn="IK4dZ",xn="QhcgE",Cn="KfSUm",_n="l6jhw",Tn="T9XUX",On="igo3T";function jn({explanation:e,onClickPrompt:a,promptText:n,tooltipText:i}){return(0,p.jsx)(ta,{tooltipText:i,children:(0,p.jsxs)("div",{className:Tn,children:[(0,p.jsx)(De.x,{variant:"bodyMd",as:"span",children:e}),n&&(0,p.jsx)("div",{className:On,children:(0,p.jsx)(Se.r,{onClick:a,children:n})})]})})}const wn=JSON.parse('{"CurrencyPicker":{"ariaLabel":"Select default currency","tooltipContent":"Manage currency"}}'),Rn={[Symbol.for("i18n-id")]:"CurrencyPicker_1eey948",en:wn};var Vn=n("./node_modules/@shopify/polaris-icons/dist/icons/CurrencyConvertMinor.svg.mjs"),$n=n("./node_modules/@shopify/polaris/build/esnext/components/Tooltip/Tooltip.esnext"),Mn=n("./node_modules/@shopify/polaris/build/esnext/components/ChoiceList/ChoiceList.esnext");const Pn="DQdXZ",An="nfgub";function Ln({currencies:e,onCurrencyChange:a,selectedCurrency:n="hidden"}){const[i,t]=(0,f.useState)(!1),[s]=(0,r.Q)({id:"CurrencyPicker_8lle1t",fallback:Object.values(Rn)[0],translations:e=>Promise.resolve(Rn[e])}),d=(0,f.useCallback)((()=>t((e=>!e))),[]),o=(0,f.useCallback)((e=>{t(!1),a(e[0])}),[a]),l=(0,p.jsx)($n.u,{preferredPosition:"below",content:s.translate("CurrencyPicker.tooltipContent"),children:(0,p.jsx)("button",{type:"button","aria-label":s.translate("CurrencyPicker.ariaLabel"),onClick:d,className:Pn,children:(0,p.jsx)(pe.J,{source:Vn.S})})});return(0,p.jsx)(na.J,{active:i,activator:l,onClose:d,preferredPosition:"below",preferredAlignment:"right",children:(0,p.jsx)("div",{className:An,children:(0,p.jsx)(Mn.X,{title:"",choices:Bn(e),selected:[n],onChange:o})})})}const Bn=e=>e.map((e=>({label:`${e.currencyName} (${e.currencyCode})`,value:e.currencyCode}))),zn=({storeCount:e,isLoading:a,salesSummary:n,currencies:i,onCurrencyChange:t,selectedCurrency:s})=>{const[d]=(0,r.Q)({id:"OrganizationOverview_17kakth",fallback:Object.values(vn)[0],translations:e=>Promise.resolve(vn[e])}),{overviewState:{timeFrame:o,preset:l}}=D(),{orgCardClickEvent:m,orgCardHoverEvent:u}=_(),[c,v]=(0,f.useState)(!1),k=i.length>1,g={total:n&&A(d,Number(n.salesTotal.value),n.salesTotal.currencyCode)||"-",trend:null==n?void 0:n.salesTrend},y={total:null!=n&&n.ordersTotal?d.formatNumber(n.ordersTotal):"-",trend:null==n?void 0:n.ordersTrend},h=(0,f.useCallback)((a=>u({element:a,prodStoreAccessCount:e,timeFrame:Y({timeFrame:o,preset:l,timeFrameOptions:G})})),[e,l,o]),N=(0,f.useCallback)((a=>{a&&m({element:"view_all_conversions",prodStoreAccessCount:e,timeFrame:Y({timeFrame:o,preset:l,timeFrameOptions:G})}),v(null!=a?a:!c)}),[v,c,l,o]),b=(0,p.jsx)("div",{onMouseEnter:()=>h("total_sales_title"),children:(0,p.jsx)(jn,{explanation:d.translate(k?"OrganizationOverview.TotalSales.TooltipExplanation":"OrganizationOverview.TotalSales.TooltipSingleCurrencyExplanation"),onClickPrompt:N,promptText:k?d.translate("OrganizationOverview.TotalSales.TooltipPrompt"):void 0,tooltipText:d.translate("OrganizationOverview.TotalSales.Title")})}),S=(0,p.jsx)("div",{onMouseEnter:()=>h("total_orders_title"),children:(0,p.jsx)(ta,{tooltipText:d.translate("OrganizationOverview.TotalOrders.Title"),children:(0,p.jsx)("div",{className:_n,children:d.translate("OrganizationOverview.TotalOrders.TooltipExplanation")})})});return(0,p.jsxs)(p.Fragment,{children:[c&&(0,p.jsx)(bn,{open:c,handleClose:()=>N(!1),currency:s}),(0,p.jsxs)("div",{className:Sn,children:[(0,p.jsxs)("div",{className:Fn,children:[d.translate("OrganizationOverview.Header"),i.length>1&&(0,p.jsx)(Ln,{currencies:i,selectedCurrency:s,onCurrencyChange:t})]}),(0,p.jsx)(nn.l,{children:(0,p.jsxs)("div",{className:Dn,children:[(0,p.jsx)("div",{className:xn,children:(0,p.jsx)(Ke,{id:"TotalSalesMetric",loading:a,title:b,totalData:g,noFocus:!0})}),(0,p.jsx)("hr",{className:Cn}),(0,p.jsx)("div",{className:xn,children:(0,p.jsx)(Ke,{id:"TotalOrdersMetric",loading:a,title:S,totalData:y,noFocus:!0})})]})})]})]})},Un=JSON.parse('{"DateInformationHeader":{"LastUpdated":"Updated: {date}"}}'),En={[Symbol.for("i18n-id")]:"Header_1sewsya",en:Un};var In=n("./node_modules/@shopify/polaris/build/esnext/components/ButtonGroup/ButtonGroup.esnext");const qn=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"AllShopsTimezone"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"shopsUnpaginated"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timezoneOffsetMinutes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":104,"source":{"body":"query AllShopsTimezone{organization{id shopsUnpaginated{id timezoneOffsetMinutes __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f91dd0cd7acd1f722686f237a86c83790b470529724b85f330b77ae2b51be963"}'),Hn="ekao_",Qn="RoCVD",Yn=JSON.parse('{"RequestedDropdown":{"Mixed":"Mixed","DateRangeLabel":"Date Range","Starting":"Starting","Ending":"Ending"},"TimeFrameOptions":{"today":"Today","24hours":"24 hours","7days":"7 days","28days":"28 days","90days":"90 days","custom":"Custom"}}'),Gn={[Symbol.for("i18n-id")]:"RequestedDropdown_z84dyd",en:Yn};var Jn=n("./node_modules/@shopify/polaris/build/esnext/components/Select/Select.esnext"),Zn=n("./node_modules/@shopify/polaris/build/esnext/components/DatePicker/DatePicker.esnext"),Wn=n("./node_modules/@shopify/polaris/build/esnext/components/Banner/Banner.esnext"),Kn=n("./node_modules/@shopify/polaris-icons/dist/icons/DropdownMinor.svg.mjs"),Xn=n("./node_modules/@shopify/react-hooks/build/esnext/hooks/previous.esnext");function ei(e){return{maxDate:(0,f.useMemo)((()=>(e=>{const a=new Date;let n=new Date;return null!=e&&e.length?(e.forEach((e=>{const i=V(new Date(a.getTime()),e);i>n&&(n=i)})),n):n})(e)),[e]),minDate:(0,f.useMemo)((()=>{const e=V(new Date);return z(e,180)}),[])}}const ai=({tab:e,timezoneData:a,min:n,max:i})=>{let t=new Date(n.getTime()),r=new Date(i.getTime());return null!=a&&a.length?(a.forEach((a=>{let n=V(new Date,a),i=V(new Date,a);e.preset!==O.d.Today&&(n=E(n,e.range),i=e.range.unit===j.E.Days?z(i,1):i),n<t&&(t=n),i>r&&(r=i)})),{start:t,end:r}):{start:t,end:r}},ni=e=>e.match(/^\d{0,4}-\d{0,2}-\d{0,2}$/),ii=({minDate:e,maxDate:a,dropdownState:n,dispatch:i})=>(0,f.useCallback)((t=>{if(!ni(t))return;const r=V(new Date(t));U(r)&&r<a&&r>e&&r<n.selectedDates.end?i({type:"setDateField",payload:{startDateField:t,selectedDates:{...n.selectedDates,start:r}}}):i({type:"setDateField",payload:{startDateField:t}})}),[null==n?void 0:n.selectedDates,e,a]),ti=({minDate:e,maxDate:a,dropdownState:n,dispatch:i})=>(0,f.useCallback)((t=>{if(!ni(t))return;const r=V(new Date(t));U(r)&&r<a&&r>e&&r>n.selectedDates.start?i({type:"setDateField",payload:{endDateField:t,selectedDates:{...n.selectedDates,end:r}}}):i({type:"setDateField",payload:{endDateField:t}})}),[null==n?void 0:n.selectedDates,e,a]),ri=e=>(0,f.useCallback)((a=>e({type:"setSelectedDates",payload:{selectedDates:a}})),[]),si=e=>(0,f.useCallback)(((a,n)=>e({type:"setMonthYear",payload:{month:a,year:n}})),[]),di=({timeFrame:e,preset:a,timezoneData:n,i18n:i})=>{var t;let r=oi;const s=new Date;if(null==n||!n.length)return{selectedDateRange:G[0],changes:!1,month:s.getMonth(),year:s.getFullYear(),selectedDates:{start:s,end:s},startDateField:"",endDateField:"",isMixed:!1};if(a)r=G.find((e=>e.preset===a));else if(e.type===R.d.Span)r=G.find((a=>a.range.unit===e.unit&&a.range.count===e.count&&a.type===R.d.Span));else{if(e.type===R.d.Fixed){var d,o;return{selectedDateRange:Q(e,G),changes:!1,month:null===(d=e.from)||void 0===d?void 0:d.getMonth(),year:null===(o=e.from)||void 0===o?void 0:o.getFullYear(),selectedDates:{start:e.from,end:e.to},startDateField:q(e.from),endDateField:q(e.to),isMixed:!1}}var l,m;if(e.type===R.d.Custom)return{selectedDateRange:r,changes:!1,month:null===(l=e.from)||void 0===l?void 0:l.getMonth(),year:null===(m=e.from)||void 0===m?void 0:m.getFullYear(),selectedDates:{start:e.from,end:e.to},startDateField:q(e.from),endDateField:q(e.to),isMixed:!1}}r=null!==(t=r)&&void 0!==t?t:G[0];const[u,...c]=n;let v=V(new Date,u),p=V(new Date,u);r.preset!==O.d.Today&&(v=E(v,r.range),p=r.range.unit===j.E.Days?z(p,1):p);const k=ai({tab:r,timezoneData:c,min:v,max:p});let g=q(v),y=q(p);const f=B(v,k.start)||B(p,k.end);return f&&(g=i.translate("RequestedDropdown.Mixed"),y=i.translate("RequestedDropdown.Mixed")),{selectedDateRange:r,changes:!1,month:s.getMonth(),year:s.getFullYear(),selectedDates:k,startDateField:g,endDateField:y,isMixed:Boolean(f)}},oi=G.find((e=>e.type===R.d.Custom)),li=(e,a)=>{var n,i;switch(a.type){case"initDropdown":return di(a.payload);case"applyChanges":return{...e,changes:!1};case"setMonthYear":return{...e,month:a.payload.month,year:a.payload.year};case"setDateField":return{...e,startDateField:null!==(n=a.payload.startDateField)&&void 0!==n?n:e.startDateField,endDateField:null!==(i=a.payload.endDateField)&&void 0!==i?i:e.endDateField,selectedDates:a.payload.selectedDates?{...a.payload.selectedDates}:e.selectedDates,selectedDateRange:oi,changes:!0,isMixed:!1};case"setSelectedDates":return{...e,...a.payload,startDateField:q(a.payload.selectedDates.start),endDateField:q(a.payload.selectedDates.end),selectedDateRange:oi,changes:!0,isMixed:!1};case"setSelectedDateRange":return{...e,...a.payload,changes:!0};default:return e}},mi="t6Nu1",ui="rKKtb",ci="JxItF",vi="_miVG",pi="RG0sw",ki=({active:e,timezoneData:a,isDisabled:n,timeFrame:i,preset:t,toggleDropdownActive:s})=>{const{dispatchOverviewAction:d}=D(),[o]=(0,r.Q)({id:"RequestedDropdown_d0igbq",fallback:Object.values(Gn)[0],translations:e=>Promise.resolve(Gn[e])}),[l,m]=(0,f.useReducer)(li,{timeFrame:i,preset:t,timezoneData:a,i18n:o},di),{stores:u}=(0,x.F)(),{timeFrameClickEvent:c}=_(),{maxDate:v,minDate:k}=ei(a),g=G.filter((e=>e.type!==R.d.Fixed)).map((e=>({label:o.translate(e.translationKey),value:e.label})));let y=`${i.count} ${i.unit}`;if(t){const e=G.find((e=>e.preset===t));y=o.translate(e.translationKey)}else if(i.type===R.d.Custom){const{todayRange:e}=M({pastDateLowerBound:i.compareFrom,pastDateUpperBound:i.compareTo,currentDateLowerBound:i.from,currentDateUpperBound:i.to});y=e}else if(i.type===R.d.Fixed){const e=Q(i,G);e&&(y=o.translate(e.translationKey))}else if(i.type===R.d.Span){const e=G.find((e=>e.type===R.d.Span&&e.range.count===i.count&&e.range.unit===i.unit));y=o.translate(e.translationKey)}const h=(0,Xn.D)(a);(0,f.useEffect)((()=>{a&&!h&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:a,i18n:o}})}),[a,h]);const N=(0,p.jsx)("span",{className:pi,children:(0,p.jsx)(tn.z,{icon:(0,p.jsx)(pe.J,{source:Kn.S}),disabled:n,onClick:s,children:y})}),b=(0,f.useCallback)((e=>{const n=G.find((a=>a.label===e));if(!n||null==a||!a.length)return;const[i,...t]=a;let r=V(new Date,i),s=V(new Date,i);n.preset!==O.d.Today&&(r=E(s,n.range),s=n.range.unit===j.E.Days?z(s,1):s);const d=ai({timezoneData:t,tab:n,min:r,max:s});let l=q(r),u=q(s);const c=(B(r,d.start)||B(s,d.end))&&n.type!==R.d.Custom&&n.type!==R.d.Fixed;c&&(l=o.translate("RequestedDropdown.Mixed"),u=o.translate("RequestedDropdown.Mixed")),m({type:"setSelectedDateRange",payload:{selectedDateRange:n,selectedDates:d,startDateField:l,endDateField:u,isMixed:Boolean(c)}})}),[G,i,t,a]),S=(0,f.useCallback)((()=>{const e=l.selectedDateRange;let a,n,r,o,v,p,k,g,y="",f="";if(i.type===R.d.Preset)f=t;else if(i.type===R.d.Span)f=`${i.unit} - ${i.count}`;else if(i.type===R.d.Custom)f=`${i.unit} - ${i.count} (Flexible)`,r=q(i.from),o=q(i.to),k=q(i.compareFrom),g=q(i.compareTo);else if(i.type===R.d.Fixed){var h;f=(null===(h=Q(i,G))||void 0===h?void 0:h.label)||"",r=q(i.from),o=q(i.to),k=q(i.compareFrom),g=q(i.compareTo)}if(e.type===R.d.Preset)y=e.preset,d({type:"updatePreset",payload:{preset:e.preset,timeFrame:e.range}});else if(e.type===R.d.Span)y=`${e.range.unit} - ${e.range.count}`,d({type:"updateTimeFrameSpan",payload:{timeFrame:e.range}});else if(e.type===R.d.Custom){a=q(l.selectedDates.start),n=q(l.selectedDates.end);const{start:i,end:t}=l.selectedDates,r=B(i,t)+1,s=z(i,r),o=z(i,1);y=i===t?`${j.E.Hours} - 24 (Flexible)`:`${e.range.unit} - ${r} (Flexible)`,v=q(s),p=q(o);const m=B(i,t)<=2?j.E.Hours:j.E.Days;d({type:"updateTimeFrameCustom",payload:{timeFrame:{from:i,to:t,compareFrom:s,compareTo:o,unit:m,count:m===j.E.Hours?24*r:r}}})}else if(e.type===R.d.Fixed){const a=e.requestedFixedStart,n=e.requestedFixedEnd,i=e.comparedFixedStart,t=e.comparedFixedEnd;y=e.label;const r=e.range.unit,s=B(a,i);d({type:"updateTimeFrameFixed",payload:{timeFrame:{from:a,to:n,compareFrom:i,compareTo:t,unit:r,count:r===j.E.Hours?24*s:s}}})}c({prodStoreAccessCount:Object.keys(u).length,newTimeFrame:y,previousTimeFrame:f,newRequestedStartDate:a,newRequestedEndDate:n,previousRequestedStartDate:r,previousRequestedEndDate:o,newComparisonStartDate:v,newComparisonEndDate:p,previousComparisonStartDate:k,previousComparisonEndDate:g}),m({type:"applyChanges"}),s()}),[null==l?void 0:l.selectedDateRange,null==l?void 0:l.selectedDates,i,t]);(0,f.useEffect)((()=>{!e&&l.changes&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:a,i18n:o}})}),[e]);const F=ii({minDate:k,maxDate:v,dropdownState:l,dispatch:m}),C=ti({minDate:k,maxDate:v,dropdownState:l,dispatch:m}),T=ri(m),w=si(m);return(0,p.jsx)(na.J,{active:e,activator:N,onClose:s,preferredPosition:"below",preferredAlignment:"left",fluidContent:!0,children:(0,p.jsx)("div",{className:mi,children:(0,p.jsxs)("div",{className:ui,children:[(0,p.jsx)(Jn.P,{label:o.translate("RequestedDropdown.DateRangeLabel"),options:g,onChange:b,value:l.selectedDateRange.label}),l.selectedDateRange.type===R.d.Custom&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:ci,children:[(0,p.jsx)(ve.n,{autoComplete:"off",value:l.startDateField,label:o.translate("RequestedDropdown.Starting"),onChange:F,disabled:l.isMixed}),(0,p.jsx)(ve.n,{autoComplete:"off",value:l.endDateField,label:o.translate("RequestedDropdown.Ending"),onChange:C,disabled:l.isMixed})]}),(0,p.jsx)(Zn.M,{allowRange:!0,month:l.month,year:l.year,onChange:T,onMonthChange:w,selected:l.selectedDates,multiMonth:!0,disableDatesAfter:v,disableDatesBefore:k})]}),l.isMixed&&(0,p.jsx)(nn.l,{children:(0,p.jsx)(Wn.j,{status:"info",children:(0,p.jsx)("p",{children:"This date range is on different calendar days for stores in other time zones."})})}),(0,p.jsxs)("div",{className:vi,children:[(0,p.jsx)(tn.z,{onClick:s,children:"Cancel"}),(0,p.jsx)(tn.z,{onClick:S,disabled:!l.changes,primary:!0,children:"Apply"})]})]})})})},gi=JSON.parse('{"ComparedDropdown":{"Starting":"Starting","Ending":"Ending","ComparedToYesterday":"compared to yesterday","ComparedToCustom":"compared to {range}"}}'),yi={[Symbol.for("i18n-id")]:"ComparedDropdown_157bvau",en:gi},fi=({timeFrame:e,preset:a,timezoneData:n})=>{var i;let t=hi;const r=new Date;if(null==n||!n.length)return{changes:!1,month:r.getMonth(),year:r.getFullYear(),selectedDates:{start:r,end:r},startDateField:"",endDateField:""};if(a)t=G.find((e=>e.preset===a));else if(e.type===R.d.Span)t=G.find((a=>a.range.unit===e.unit&&a.range.count===e.count&&a.type===R.d.Span));else if(e.type===R.d.Custom){var s,d;return{changes:!1,month:null===(s=e.compareFrom)||void 0===s?void 0:s.getMonth(),year:null===(d=e.compareFrom)||void 0===d?void 0:d.getFullYear(),selectedDates:{start:e.compareFrom,end:e.compareTo},startDateField:q(e.compareFrom),endDateField:q(e.compareTo)}}t=null!==(i=t)&&void 0!==i?i:G[0];const[o,...l]=n;let m=V(new Date,o),u=V(new Date,o);t.preset!==O.d.Today&&(m=E(m,t.range),u=t.range.unit===j.E.Days?z(u,1):u);const c=ai({tab:t,timezoneData:l,min:m,max:u}),v=q(m),p=q(u);return{changes:!1,month:r.getMonth(),year:r.getFullYear(),selectedDates:c,startDateField:v,endDateField:p}},hi=G.find((e=>e.type===R.d.Custom)),Ni=(e,a)=>{var n,i;switch(a.type){case"initDropdown":return fi(a.payload);case"applyChanges":return{...e,changes:!1};case"setMonthYear":return{...e,month:a.payload.month,year:a.payload.year};case"setDateField":return{...e,startDateField:null!==(n=a.payload.startDateField)&&void 0!==n?n:e.startDateField,endDateField:null!==(i=a.payload.endDateField)&&void 0!==i?i:e.endDateField,selectedDates:a.payload.selectedDates?{...a.payload.selectedDates}:e.selectedDates,changes:!0};case"setSelectedDates":return{...e,...a.payload,selectedDates:{...a.payload.selectedDates},startDateField:q(a.payload.selectedDates.start),endDateField:q(a.payload.selectedDates.end),changes:!0};default:return e}},bi="uNPNt",Si="rsP8x",Fi="TOtrj",Di="AWeQE",xi=G.find((e=>e.type===R.d.Custom)),Ci=({active:e,timezoneData:a,isDisabled:n,timeFrame:i,preset:t,toggleDropdownActive:s})=>{const{dispatchOverviewAction:d}=D(),[o]=(0,r.Q)({id:"ComparedDropdown_s58q12",fallback:Object.values(yi)[0],translations:e=>Promise.resolve(yi[e])}),[l,m]=(0,f.useReducer)(Ni,{timeFrame:i,preset:t,timezoneData:a},fi);(0,f.useEffect)((()=>{m({type:"setTimeFrame",payload:{timeFrame:i,preset:t,timezoneData:a}})}),[i]);const{stores:u}=(0,x.F)(),{timeFrameClickEvent:c}=_(),{maxDate:v,minDate:k}=ei(a),g=(0,Xn.D)(a);(0,f.useEffect)((()=>{a&&!g&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:a}})}),[a,g]);const y=(0,f.useMemo)((()=>(({preset:e,timeFrame:a,i18n:n})=>{if(e)return n.translate("ComparedDropdown.ComparedToYesterday");if(a.type===R.d.Custom){const{pastRange:e}=M({pastDateLowerBound:a.compareFrom,pastDateUpperBound:a.compareTo,currentDateLowerBound:a.from,currentDateUpperBound:a.to});return n.translate("ComparedDropdown.ComparedToCustom",{range:e})}{let e=a.unit;return e=e.charAt(0).toUpperCase()+e.slice(1),n.translate(`ComparedDropdown.ComparedTo${e}`,{timeFrame:`${a.count}`})}})({timeFrame:i,preset:t,i18n:o})),[i,t]),h=(0,p.jsx)("span",{className:Di,children:(0,p.jsx)(tn.z,{icon:(0,p.jsx)(pe.J,{source:Kn.S}),disabled:n,onClick:s,children:y})}),N=(0,f.useCallback)((()=>{const e=xi;let a="",n="";n=`${i.unit} - ${i.count} (Flexible)`;const t=q(i.from),r=q(i.to),o=q(i.compareFrom),v=q(i.compareTo),p=q(i.from),k=q(i.to),{start:g,end:y}=l.selectedDates,f=B(g,i.from)*(g>i.from?-1:1),h=B(g,y);a=0===h?`${j.E.Hours} - 24 (Flexible)`:`${e.range.unit} - ${h+1} (Flexible)`;const N=q(g),b=q(y),S=B(g,y)<=2&&B(i.from,i.to)<=2?j.E.Hours:j.E.Days;d({type:"updateComparedTimeFrame",payload:{timeFrame:{compareFrom:g,compareTo:y,unit:S,count:S===j.E.Hours?24*f:f}}}),c({prodStoreAccessCount:Object.keys(u).length,newTimeFrame:a,previousTimeFrame:n,newRequestedStartDate:p,newRequestedEndDate:k,previousRequestedStartDate:t,previousRequestedEndDate:r,newComparisonStartDate:N,newComparisonEndDate:b,previousComparisonStartDate:o,previousComparisonEndDate:v}),m({type:"applyChanges"}),s()}),[null==l?void 0:l.selectedDates,i,t]);(0,f.useEffect)((()=>{!e&&l.changes&&m({type:"initDropdown",payload:{timeFrame:i,preset:t,timezoneData:a}})}),[e]);const b=ii({minDate:k,maxDate:v,dropdownState:l,dispatch:m}),S=ti({minDate:k,maxDate:v,dropdownState:l,dispatch:m}),F=ri(m),C=si(m);return(0,p.jsx)(na.J,{active:e,activator:h,onClose:s,preferredPosition:"below",preferredAlignment:"left",fluidContent:!0,children:(0,p.jsxs)("div",{className:bi,children:[(0,p.jsxs)("div",{className:Si,children:[(0,p.jsx)(ve.n,{autoComplete:"off",value:l.startDateField,label:o.translate("ComparedDropdown.Starting"),onChange:b}),(0,p.jsx)(ve.n,{autoComplete:"off",value:l.endDateField,label:o.translate("ComparedDropdown.Ending"),onChange:S})]}),(0,p.jsx)(Zn.M,{allowRange:!0,month:l.month,year:l.year,onChange:F,onMonthChange:C,selected:l.selectedDates,multiMonth:!0,disableDatesAfter:v,disableDatesBefore:k}),(0,p.jsxs)("div",{className:Fi,children:[(0,p.jsx)(tn.z,{onClick:s,children:"Cancel"}),(0,p.jsx)(tn.z,{onClick:N,disabled:!l.changes,primary:!0,children:"Apply"})]})]})})},_i=JSON.parse('{"HeaderDateComparison":{"ComparedToHours":"compared to the previous {timeFrame} hours","ComparedToDays":"compared to the previous {timeFrame} days","ComparedToMonths":"compared to the previous {timeFrame} months","ComparedToYesterday":"compared to yesterday","ComparedToCustom":"compared to {range}"}}'),Ti={[Symbol.for("i18n-id")]:"ComparedTo_11xcjue",en:_i},Oi="LHLZA",ji=({preset:e,timeFrame:a})=>{const[n]=(0,r.Q)({id:"ComparedTo_gl5tc6",fallback:Object.values(Ti)[0],translations:e=>Promise.resolve(Ti[e])});if(e)return(0,p.jsx)("span",{className:Oi,children:n.translate("HeaderDateComparison.ComparedToYesterday")});if(a.type===R.d.Custom||a.type===R.d.Fixed){const{pastRange:e}=M({pastDateLowerBound:a.compareFrom,pastDateUpperBound:a.compareTo,currentDateLowerBound:a.from,currentDateUpperBound:a.to});return(0,p.jsx)("span",{className:Oi,children:n.translate("HeaderDateComparison.ComparedToCustom",{range:e})})}{let e=a.unit;return e=e.charAt(0).toUpperCase()+e.slice(1),(0,p.jsx)("span",{className:Oi,children:n.translate(`HeaderDateComparison.ComparedTo${e}`,{timeFrame:`${a.count}`})})}};var wi=function(e){return e.None="none",e.Requested="requested",e.Compared="compared",e}(wi||{});const Ri=({lastUpdatedAt:e})=>{var a,n;const[i]=(0,r.Q)({id:"Header_nf8mh1",fallback:Object.values(En)[0],translations:e=>Promise.resolve(En[e])}),{overviewState:{timeFrame:t,preset:s}}=D(),{data:d,loading:o}=(0,h.Z)(qn,{fetchPolicy:"no-cache"}),l=null==d||null===(a=d.organization)||void 0===a||null===(n=a.shopsUnpaginated)||void 0===n?void 0:n.map((e=>e.timezoneOffsetMinutes)),[m,u]=(0,f.useState)(wi.None),c=(0,f.useCallback)((()=>{u((e=>e===wi.Requested?wi.None:wi.Requested))}),[]),v=(0,f.useCallback)((()=>{u((e=>e===wi.Compared?wi.None:wi.Compared))}),[]),k=e&&i.formatDate(new Date(e),{style:ka.Dn.Time,timeZoneName:"short"});return(0,p.jsxs)("div",{className:Hn,children:[(0,p.jsxs)(In.h,{children:[(0,p.jsx)(ki,{timezoneData:l,isDisabled:o,timeFrame:t,preset:s,active:m===wi.Requested,toggleDropdownActive:c}),t.type===R.d.Custom?(0,p.jsx)(Ci,{timezoneData:l,isDisabled:o,timeFrame:t,preset:s,active:m===wi.Compared,toggleDropdownActive:v}):(0,p.jsx)(ji,{timeFrame:t,preset:s})]}),(0,p.jsx)("div",{className:Qn,children:k&&(0,p.jsx)("div",{children:i.translate("DateInformationHeader.LastUpdated",{date:k})})})]})},Vi=({defaultCurrency:e,setCurrency:a})=>{var n,i,t,s,o;const{overviewState:{timeFrame:u,preset:c}}=D(),v=(0,N.S)("overview_polling"),[k]=(0,r.Q)({id:"OverviewPage_hf7wf9",fallback:Object.values(y)[0],translations:e=>Promise.resolve(y[e])}),{TrackStatus:g}=(0,b.Z)(),{orgCardCurrencyChangeEvent:F,overviewPageViewEvent:x}=_(),C=k.translate("Home.PageTitle"),[{value:T,update:O}]=(0,d._)("migration_banner_overview",!1),{requestedDateRange:j,comparisonDateRange:w}=H(u),V=u.type===R.d.Custom||u.type===R.d.Fixed,{data:$,loading:M}=(0,h.Z)(S,{variables:{preset:c,presentmentCurrency:e,spanCount:u.count,spanUnit:u.unit,utcOffset:-1*(new Date).getTimezoneOffset(),requestedDateRange:""===j.from?null:j,comparisonDateRange:""===w.from?null:w,isRange:V},fetchPolicy:"no-cache",pollInterval:v?J:void 0}),P=(null==$||null===(n=$.organization)||void 0===n?void 0:n.shopsCount)||0,A=(0,f.useCallback)((n=>{const i={newCurrencyCode:n,previousCurrencyCode:e,prodStoreAccessCount:P,timeFrame:Y({timeFrame:u,preset:c,timeFrameOptions:G})};F(i),a(n)}),[P,c,u]);!function(e,a,n){const[i,t]=(0,f.useState)(!1);(0,f.useEffect)((()=>{e&&!i&&(t(!0),a({...n}))}),[e,a,n])}(Boolean($&&!M),x,{prodStoreAccessCount:P,referrer:document.referrer.split("?")[0]});const L=()=>(0,p.jsx)(m.z,{isVisible:!T,migrationSection:m.D.Overview,onDismiss:()=>{O(!0)}});if(!(M||null!=$&&$.organization&&0!==P))return(0,p.jsxs)(l.Z,{fullWidth:!0,title:C,children:[L(),(0,p.jsx)(un,{})]});const B=P>1,z=null!==(i=null==$||null===(t=$.organization)||void 0===t?void 0:t.currencies)&&void 0!==i?i:[],U=V?null==$||null===(s=$.organization)||void 0===s?void 0:s.salesSummaryForRanges:null==$||null===(o=$.organization)||void 0===o?void 0:o.salesSummary;return(0,p.jsxs)(l.Z,{fullWidth:!0,title:C,children:[L(),(0,p.jsx)(Ri,{lastUpdatedAt:null==$?void 0:$.salesLastUpdatedAt}),B&&(0,p.jsx)(zn,{storeCount:P,isLoading:M&&!$,salesSummary:U,currencies:z,onCurrencyChange:A,selectedCurrency:e}),(0,p.jsx)(Xa,{presentmentCurrencyCode:e}),(0,p.jsx)(g,{status:"complete"})]})},$i=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"OrganizationDefaultCurrency"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"organization"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"defaultCurrency"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"currencyCode"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currencyName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":115,"source":{"body":"query OrganizationDefaultCurrency{organization{id defaultCurrency{currencyCode currencyName __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"c8554a5b4475cb6012cc43060aeaf38647a003ccb1c24fccdc1f335270cdd84f"}');function Mi(){const[e]=(0,r.Q)({id:"Overview_12xrrtm",fallback:Object.values(t)[0],translations:e=>Promise.resolve(t[e])});(0,o.Ts)((0,p.jsx)(k,{}));const[{value:a,update:n}]=(0,d._)("migration_banner_overview",!1),{defaultCurrency:i,updateDefaultCurrency:u,currencyLoading:c}=function(){var e,a;const{nodeEnv:n,orgId:i,userUuid:t}=(0,x.F)(),[{value:r,update:s}]=(0,d._)(P({nodeEnv:n,userUuid:t,orgId:i})),{data:o,loading:l}=(0,h.Z)($i,{skip:Boolean(r),fetchPolicy:"no-cache"});return(0,f.useEffect)((()=>{var e,a;null!=o&&null!==(e=o.organization)&&void 0!==e&&null!==(a=e.defaultCurrency)&&void 0!==a&&a.currencyCode&&s(o.organization.defaultCurrency.currencyCode)}),[null==o||null===(e=o.organization)||void 0===e||null===(a=e.defaultCurrency)||void 0===a?void 0:a.currencyCode]),{defaultCurrency:r,updateDefaultCurrency:s,currencyLoading:l}}();return c?(0,p.jsx)(s.g,{}):i?(0,p.jsx)(Vi,{defaultCurrency:i,setCurrency:u}):(0,p.jsxs)(l.Z,{fullWidth:!0,title:e.translate("Home.PageTitle"),children:[(0,p.jsx)(m.z,{isVisible:!a,migrationSection:m.D.Overview,onDismiss:()=>{n(!0)}}),(0,p.jsx)(un,{})]})}},"./app/utilities/highcharts.ts":(e,a,n)=>{"use strict";n.d(a,{m:()=>i});const i=n("./packages/@web-utilities/env/index.ts").C5},"?09cc":()=>{}}]);